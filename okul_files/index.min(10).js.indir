var ki=Object.defineProperty;var pi=(n,e,i)=>e in n?ki(n,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[e]=i;var $e=(n,e,i)=>(pi(n,typeof e!="symbol"?e+"":e,i),i);/* empty css                *//* empty css                  */(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function i(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(t){if(t.ep)return;t.ep=!0;const s=i(t);fetch(t.href,s)}})();function Z(){}function yi(n,e){for(const i in e)n[i]=e[i];return n}function qn(n){return n()}function fn(){return Object.create(null)}function Le(n){n.forEach(qn)}function We(n){return typeof n=="function"}function Ie(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}function Ci(n){return Object.keys(n).length===0}function Pi(n,...e){if(n==null){for(const l of e)l(void 0);return Z}const i=n.subscribe(...e);return i.unsubscribe?()=>i.unsubscribe():i}function wi(n){let e;return Pi(n,i=>e=i)(),e}function Yn(n,e,i,l){if(n){const t=Jn(n,e,i,l);return n[0](t)}}function Jn(n,e,i,l){return n[1]&&l?yi(i.ctx.slice(),n[1](l(e))):i.ctx}function Kn(n,e,i,l){if(n[2]&&l){const t=n[2](l(i));if(e.dirty===void 0)return t;if(typeof t=="object"){const s=[],a=Math.max(e.dirty.length,t.length);for(let c=0;c<a;c+=1)s[c]=e.dirty[c]|t[c];return s}return e.dirty|t}return e.dirty}function Wn(n,e,i,l,t,s){if(t){const a=Jn(e,i,l,s);n.p(a,t)}}function Qn(n){if(n.ctx.length>32){const e=[],i=n.ctx.length/32;for(let l=0;l<i;l++)e[l]=-1;return e}return-1}const Ti=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function p(n,e){n.appendChild(e)}function V(n,e,i){n.insertBefore(e,i||null)}function O(n){n.parentNode&&n.parentNode.removeChild(n)}function S(n){return document.createElement(n)}function J(n){return document.createTextNode(n)}function Y(){return J(" ")}function Ve(){return J("")}function ne(n,e,i,l){return n.addEventListener(e,i,l),()=>n.removeEventListener(e,i,l)}function f(n,e,i){i==null?n.removeAttribute(e):n.getAttribute(e)!==i&&n.setAttribute(e,i)}function ie(n,e,i){const l=e.toLowerCase();l in n?n[l]=typeof n[l]=="boolean"&&i===""?!0:i:e in n?n[e]=typeof n[e]=="boolean"&&i===""?!0:i:f(n,e,i)}function Ai(n){return Array.from(n.childNodes)}function Q(n,e){e=""+e,n.data!==e&&(n.data=e)}function un(n,e){n.value=e??""}function Ae(n,e,i){n.classList.toggle(e,!!i)}function Si(n,e,{bubbles:i=!1,cancelable:l=!1}={}){return new CustomEvent(n,{detail:e,bubbles:i,cancelable:l})}let qe;function je(n){qe=n}function rn(){if(!qe)throw new Error("Function called outside component initialization");return qe}function on(n){rn().$$.on_mount.push(n)}function Ei(n){rn().$$.on_destroy.push(n)}function Xn(){const n=rn();return(e,i,{cancelable:l=!1}={})=>{const t=n.$$.callbacks[e];if(t){const s=Si(e,i,{cancelable:l});return t.slice().forEach(a=>{a.call(n,s)}),!s.defaultPrevented}return!0}}function W(n,e){const i=n.$$.callbacks[e.type];i&&i.slice().forEach(l=>l.call(this,e))}const ve=[],Ne=[];let He=[];const nn=[],Li=Promise.resolve();let ln=!1;function Ii(){ln||(ln=!0,Li.then(Zn))}function tn(n){He.push(n)}function Ri(n){nn.push(n)}const en=new Set;let Me=0;function Zn(){if(Me!==0)return;const n=qe;do{try{for(;Me<ve.length;){const e=ve[Me];Me++,je(e),Di(e.$$)}}catch(e){throw ve.length=0,Me=0,e}for(je(null),ve.length=0,Me=0;Ne.length;)Ne.pop()();for(let e=0;e<He.length;e+=1){const i=He[e];en.has(i)||(en.add(i),i())}He.length=0}while(ve.length);for(;nn.length;)nn.pop()();ln=!1,en.clear(),je(n)}function Di(n){if(n.fragment!==null){n.update(),Le(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(tn)}}function Oi(n){const e=[],i=[];He.forEach(l=>n.indexOf(l)===-1?e.push(l):i.push(l)),i.forEach(l=>l()),He=e}const Je=new Set;let Be;function ke(){Be={r:0,c:[],p:Be}}function pe(){Be.r||Le(Be.c),Be=Be.p}function R(n,e){n&&n.i&&(Je.delete(n),n.i(e))}function F(n,e,i,l){if(n&&n.o){if(Je.has(n))return;Je.add(n),Be.c.push(()=>{Je.delete(n),l&&(i&&n.d(1),l())}),n.o(e)}else l&&l()}function dn(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function Ni(n,e){F(n,1,1,()=>{e.delete(n.key)})}function Vi(n,e,i,l,t,s,a,c,r,o,u,b){let _=n.length,h=s.length,m=_;const g={};for(;m--;)g[n[m].key]=m;const A=[],v=new Map,j=new Map,H=[];for(m=h;m--;){const P=b(t,s,m),E=i(P);let k=a.get(E);k?l&&H.push(()=>k.p(P,e)):(k=o(E,P),k.c()),v.set(E,A[m]=k),E in g&&j.set(E,Math.abs(m-g[E]))}const M=new Set,N=new Set;function D(P){R(P,1),P.m(c,u),a.set(P.key,P),u=P.first,h--}for(;_&&h;){const P=A[h-1],E=n[_-1],k=P.key,K=E.key;P===E?(u=P.first,_--,h--):v.has(K)?!a.has(k)||M.has(k)?D(P):N.has(K)?_--:j.get(k)>j.get(K)?(N.add(k),D(P)):(M.add(K),_--):(r(E,a),_--)}for(;_--;){const P=n[_];v.has(P.key)||r(P,a)}for(;h;)D(A[h-1]);return Le(H),A}function Bi(n,e,i){const l=n.$$.props[e];l!==void 0&&(n.$$.bound[l]=i,i(n.$$.ctx[l]))}function Se(n){n&&n.c()}function Pe(n,e,i){const{fragment:l,after_update:t}=n.$$;l&&l.m(e,i),tn(()=>{const s=n.$$.on_mount.map(qn).filter(We);n.$$.on_destroy?n.$$.on_destroy.push(...s):Le(s),n.$$.on_mount=[]}),t.forEach(tn)}function we(n,e){const i=n.$$;i.fragment!==null&&(Oi(i.after_update),Le(i.on_destroy),i.fragment&&i.fragment.d(e),i.on_destroy=i.fragment=null,i.ctx=[])}function Mi(n,e){n.$$.dirty[0]===-1&&(ve.push(n),Ii(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function Re(n,e,i,l,t,s,a=null,c=[-1]){const r=qe;je(n);const o=n.$$={fragment:null,ctx:[],props:s,update:Z,not_equal:t,bound:fn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(r?r.$$.context:[])),callbacks:fn(),dirty:c,skip_bound:!1,root:e.target||r.$$.root};a&&a(o.root);let u=!1;if(o.ctx=i?i(n,e.props||{},(b,_,...h)=>{const m=h.length?h[0]:_;return o.ctx&&t(o.ctx[b],o.ctx[b]=m)&&(!o.skip_bound&&o.bound[b]&&o.bound[b](m),u&&Mi(n,b)),_}):[],o.update(),u=!0,Le(o.before_update),o.fragment=l?l(o.ctx):!1,e.target){if(e.hydrate){const b=Ai(e.target);o.fragment&&o.fragment.l(b),b.forEach(O)}else o.fragment&&o.fragment.c();e.intro&&R(n.$$.fragment),Pe(n,e.target,e.anchor),Zn()}je(r)}class De{constructor(){$e(this,"$$");$e(this,"$$set")}$destroy(){we(this,1),this.$destroy=Z}$on(e,i){if(!We(i))return Z;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(i),()=>{const t=l.indexOf(i);t!==-1&&l.splice(t,1)}}$set(e){this.$$set&&!Ci(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const vi="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(vi);function Ui(n){let e,i,l,t,s,a,c;return{c(){e=S("button"),i=S("span"),l=S("span"),t=J(n[3]),f(l,"class",n[17]),f(i,"class","prom-button__text"),f(e,"aria-haspopup",n[6]),f(e,"aria-expanded",n[7]),f(e,"aria-label",n[13]),f(e,"aria-labelledby",n[9]),f(e,"aria-describedby",n[8]),f(e,"id",n[1]),f(e,"type",n[5]),f(e,"class",s="prom-button prom-button__"+n[0]+" "+n[2]+" "+n[15]+" "+n[16]),e.disabled=n[4],f(e,"data-active",n[14])},m(r,o){V(r,e,o),p(e,i),p(i,l),p(l,t),a||(c=[ne(e,"click",n[28]),ne(e,"focus",n[29]),ne(e,"blur",n[30]),ne(e,"keyup",n[31]),ne(e,"keydown",n[32])],a=!0)},p(r,o){o[0]&8&&Q(t,r[3]),o[0]&131072&&f(l,"class",r[17]),o[0]&64&&f(e,"aria-haspopup",r[6]),o[0]&128&&f(e,"aria-expanded",r[7]),o[0]&8192&&f(e,"aria-label",r[13]),o[0]&512&&f(e,"aria-labelledby",r[9]),o[0]&256&&f(e,"aria-describedby",r[8]),o[0]&2&&f(e,"id",r[1]),o[0]&32&&f(e,"type",r[5]),o[0]&98309&&s!==(s="prom-button prom-button__"+r[0]+" "+r[2]+" "+r[15]+" "+r[16])&&f(e,"class",s),o[0]&16&&(e.disabled=r[4]),o[0]&16384&&f(e,"data-active",r[14])},d(r){r&&O(e),a=!1,Le(c)}}}function Fi(n){let e,i,l,t;return{c(){e=S("sl-button"),i=J(n[3]),ie(e,"id",n[1]),ie(e,"size",n[18]),ie(e,"fill",n[11]),ie(e,"variant",n[12]),ie(e,"disabled",n[4]),ie(e,"buttontype",n[5]),ie(e,"aria-haspopup",n[6]),ie(e,"aria-expanded",n[7]),ie(e,"aria-label",n[13]),ie(e,"aria-labelledby",n[9]),ie(e,"aria-describedby",n[8])},m(s,a){V(s,e,a),p(e,i),l||(t=[ne(e,"click",n[23]),ne(e,"focus",n[24]),ne(e,"blur",n[25]),ne(e,"keyup",n[26]),ne(e,"keydown",n[27])],l=!0)},p(s,a){a[0]&8&&Q(i,s[3]),a[0]&2&&ie(e,"id",s[1]),a[0]&262144&&ie(e,"size",s[18]),a[0]&2048&&ie(e,"fill",s[11]),a[0]&4096&&ie(e,"variant",s[12]),a[0]&16&&ie(e,"disabled",s[4]),a[0]&32&&ie(e,"buttontype",s[5]),a[0]&64&&ie(e,"aria-haspopup",s[6]),a[0]&128&&ie(e,"aria-expanded",s[7]),a[0]&8192&&ie(e,"aria-label",s[13]),a[0]&512&&ie(e,"aria-labelledby",s[9]),a[0]&256&&ie(e,"aria-describedby",s[8])},d(s){s&&O(e),l=!1,Le(t)}}}function Hi(n){let e;function i(s,a){return s[10]?Fi:Ui}let l=i(n),t=l(n);return{c(){t.c(),e=Ve()},m(s,a){t.m(s,a),V(s,e,a)},p(s,a){l===(l=i(s))&&t?t.p(s,a):(t.d(1),t=l(s),t&&(t.c(),t.m(e.parentNode,e)))},i:Z,o:Z,d(s){s&&O(e),t.d(s)}}}function Gi(n,e,i){let l,t,s,a,c,r,{type:o="basic"}=e,{iconOnly:u=!1}=e,{id:b=void 0}=e,{cssClass:_=""}=e,{text:h=""}=e,{large:m=!1}=e,{disabled:g=!1}=e,{loading:A=!1}=e,{htmlType:v="submit"}=e,{haspopup:j=void 0}=e,{expanded:H=void 0}=e,{ariaLabel:M=void 0}=e,{describedby:N=void 0}=e,{labelledby:D=void 0}=e,{useSL:P=!1}=e,E="solid",k="secondary";function K(w){W.call(this,n,w)}function oe(w){W.call(this,n,w)}function he(w){W.call(this,n,w)}function me(w){W.call(this,n,w)}function B(w){W.call(this,n,w)}function le(w){W.call(this,n,w)}function ye(w){W.call(this,n,w)}function x(w){W.call(this,n,w)}function te(w){W.call(this,n,w)}function be(w){W.call(this,n,w)}return n.$$set=w=>{"type"in w&&i(0,o=w.type),"iconOnly"in w&&i(19,u=w.iconOnly),"id"in w&&i(1,b=w.id),"cssClass"in w&&i(2,_=w.cssClass),"text"in w&&i(3,h=w.text),"large"in w&&i(20,m=w.large),"disabled"in w&&i(4,g=w.disabled),"loading"in w&&i(21,A=w.loading),"htmlType"in w&&i(5,v=w.htmlType),"haspopup"in w&&i(6,j=w.haspopup),"expanded"in w&&i(7,H=w.expanded),"ariaLabel"in w&&i(22,M=w.ariaLabel),"describedby"in w&&i(8,N=w.describedby),"labelledby"in w&&i(9,D=w.labelledby),"useSL"in w&&i(10,P=w.useSL)},n.$$.update=()=>{n.$$.dirty[0]&1048576&&i(18,l=m?"lg":"md"),n.$$.dirty[0]&1&&(o==="basic"&&(i(11,E="outline"),i(12,k="primary")),o==="basic-negative"&&(i(11,E="solid"),i(12,k="secondary")),o==="primary"&&(i(11,E="solid"),i(12,k="primary")),o==="secondary"&&(i(11,E="outline"),i(12,k="secondary")),o==="destructive"&&(i(11,E="solid"),i(12,k="danger")),o==="plain"&&(i(11,E="ghost"),i(12,k="secondary"))),n.$$.dirty[0]&524288&&i(17,t=u?"prom-button__text--hidden":""),n.$$.dirty[0]&1048576&&i(16,s=m?"prom-button--large":""),n.$$.dirty[0]&2097152&&i(15,a=A?"prom-button--loading":""),n.$$.dirty[0]&2097168&&i(14,c=!A&&!g),n.$$.dirty[0]&4718600&&i(13,r=M||(u?h:void 0))},[o,b,_,h,g,v,j,H,N,D,P,E,k,r,c,a,s,t,l,u,m,A,M,K,oe,he,me,B,le,ye,x,te,be]}class cn extends De{constructor(e){super(),Re(this,e,Gi,Hi,Ie,{type:0,iconOnly:19,id:1,cssClass:2,text:3,large:20,disabled:4,loading:21,htmlType:5,haspopup:6,expanded:7,ariaLabel:22,describedby:8,labelledby:9,useSL:10},null,[-1,-1])}}function ji(n){let e,i;return e=new cn({props:{cssClass:"prom-icon-button "+n[17]+" "+n[15]+" "+n[4],disabled:n[0],haspopup:n[1],expanded:n[2],iconOnly:n[5],id:n[6],large:n[7],loading:n[8],text:n[9],type:n[11],htmlType:n[3],ariaLabel:n[12],labelledby:n[13],describedby:n[14]}}),e.$on("blur",n[29]),e.$on("click",n[30]),e.$on("focus",n[31]),e.$on("keyup",n[32]),e.$on("keydown",n[33]),{c(){Se(e.$$.fragment)},m(l,t){Pe(e,l,t),i=!0},p(l,t){const s={};t[0]&163856&&(s.cssClass="prom-icon-button "+l[17]+" "+l[15]+" "+l[4]),t[0]&1&&(s.disabled=l[0]),t[0]&2&&(s.haspopup=l[1]),t[0]&4&&(s.expanded=l[2]),t[0]&32&&(s.iconOnly=l[5]),t[0]&64&&(s.id=l[6]),t[0]&128&&(s.large=l[7]),t[0]&256&&(s.loading=l[8]),t[0]&512&&(s.text=l[9]),t[0]&2048&&(s.type=l[11]),t[0]&8&&(s.htmlType=l[3]),t[0]&4096&&(s.ariaLabel=l[12]),t[0]&8192&&(s.labelledby=l[13]),t[0]&16384&&(s.describedby=l[14]),e.$set(s)},i(l){i||(R(e.$$.fragment,l),i=!0)},o(l){F(e.$$.fragment,l),i=!1},d(l){we(e,l)}}}function zi(n){let e,i;return e=new cn({props:{cssClass:"prom-icon-button "+n[16],disabled:n[0],haspopup:n[1],expanded:n[2],iconOnly:n[5],id:n[6],large:n[7],loading:n[8],text:n[9],type:n[11],htmlType:n[3],ariaLabel:n[12],labelledby:n[13],describedby:n[14]}}),e.$on("blur",n[24]),e.$on("click",n[25]),e.$on("focus",n[26]),e.$on("keyup",n[27]),e.$on("keydown",n[28]),{c(){Se(e.$$.fragment)},m(l,t){Pe(e,l,t),i=!0},p(l,t){const s={};t[0]&65536&&(s.cssClass="prom-icon-button "+l[16]),t[0]&1&&(s.disabled=l[0]),t[0]&2&&(s.haspopup=l[1]),t[0]&4&&(s.expanded=l[2]),t[0]&32&&(s.iconOnly=l[5]),t[0]&64&&(s.id=l[6]),t[0]&128&&(s.large=l[7]),t[0]&256&&(s.loading=l[8]),t[0]&512&&(s.text=l[9]),t[0]&2048&&(s.type=l[11]),t[0]&8&&(s.htmlType=l[3]),t[0]&4096&&(s.ariaLabel=l[12]),t[0]&8192&&(s.labelledby=l[13]),t[0]&16384&&(s.describedby=l[14]),e.$set(s)},i(l){i||(R(e.$$.fragment,l),i=!0)},o(l){F(e.$$.fragment,l),i=!1},d(l){we(e,l)}}}function qi(n){let e,i;return e=new cn({props:{cssClass:"prom-icon-button "+n[15]+" "+n[4],disabled:n[0],haspopup:n[1],expanded:n[2],id:n[6],large:n[7],loading:n[8],text:n[9],type:n[11],htmlType:n[3],ariaLabel:n[12],labelledby:n[13],describedby:n[14]}}),e.$on("blur",n[19]),e.$on("click",n[20]),e.$on("focus",n[21]),e.$on("keyup",n[22]),e.$on("keydown",n[23]),{c(){Se(e.$$.fragment)},m(l,t){Pe(e,l,t),i=!0},p(l,t){const s={};t[0]&32784&&(s.cssClass="prom-icon-button "+l[15]+" "+l[4]),t[0]&1&&(s.disabled=l[0]),t[0]&2&&(s.haspopup=l[1]),t[0]&4&&(s.expanded=l[2]),t[0]&64&&(s.id=l[6]),t[0]&128&&(s.large=l[7]),t[0]&256&&(s.loading=l[8]),t[0]&512&&(s.text=l[9]),t[0]&2048&&(s.type=l[11]),t[0]&8&&(s.htmlType=l[3]),t[0]&4096&&(s.ariaLabel=l[12]),t[0]&8192&&(s.labelledby=l[13]),t[0]&16384&&(s.describedby=l[14]),e.$set(s)},i(l){i||(R(e.$$.fragment,l),i=!0)},o(l){F(e.$$.fragment,l),i=!1},d(l){we(e,l)}}}function Yi(n){let e,i,l,t;const s=[qi,zi,ji],a=[];function c(r,o){return r[10]&&r[5]?0:r[10]?1:2}return e=c(n),i=a[e]=s[e](n),{c(){i.c(),l=Ve()},m(r,o){a[e].m(r,o),V(r,l,o),t=!0},p(r,o){let u=e;e=c(r),e===u?a[e].p(r,o):(ke(),F(a[u],1,1,()=>{a[u]=null}),pe(),i=a[e],i?i.p(r,o):(i=a[e]=s[e](r),i.c()),R(i,1),i.m(l.parentNode,l))},i(r){t||(R(i),t=!0)},o(r){F(i),t=!1},d(r){r&&O(l),a[e].d(r)}}}function Ji(n,e,i){let l,t,s,{disabled:a=!1}=e,{haspopup:c=void 0}=e,{expanded:r=void 0}=e,{htmlType:o="submit"}=e,{iconClass:u=""}=e,{iconOnly:b=!1}=e,{iconPlacement:_="start"}=e,{id:h=void 0}=e,{large:m=!1}=e,{loading:g=!1}=e,{text:A=""}=e,{textOnly:v=!1}=e,{type:j="basic"}=e,{ariaLabel:H=void 0}=e,{labelledby:M=void 0}=e,{describedby:N=void 0}=e;function D(T){W.call(this,n,T)}function P(T){W.call(this,n,T)}function E(T){W.call(this,n,T)}function k(T){W.call(this,n,T)}function K(T){W.call(this,n,T)}function oe(T){W.call(this,n,T)}function he(T){W.call(this,n,T)}function me(T){W.call(this,n,T)}function B(T){W.call(this,n,T)}function le(T){W.call(this,n,T)}function ye(T){W.call(this,n,T)}function x(T){W.call(this,n,T)}function te(T){W.call(this,n,T)}function be(T){W.call(this,n,T)}function w(T){W.call(this,n,T)}return n.$$set=T=>{"disabled"in T&&i(0,a=T.disabled),"haspopup"in T&&i(1,c=T.haspopup),"expanded"in T&&i(2,r=T.expanded),"htmlType"in T&&i(3,o=T.htmlType),"iconClass"in T&&i(4,u=T.iconClass),"iconOnly"in T&&i(5,b=T.iconOnly),"iconPlacement"in T&&i(18,_=T.iconPlacement),"id"in T&&i(6,h=T.id),"large"in T&&i(7,m=T.large),"loading"in T&&i(8,g=T.loading),"text"in T&&i(9,A=T.text),"textOnly"in T&&i(10,v=T.textOnly),"type"in T&&i(11,j=T.type),"ariaLabel"in T&&i(12,H=T.ariaLabel),"labelledby"in T&&i(13,M=T.labelledby),"describedby"in T&&i(14,N=T.describedby)},n.$$.update=()=>{n.$$.dirty[0]&1056&&b&&v&&console.warn("The attributes iconOnly and textOnly cannot be both set to false."),n.$$.dirty[0]&262144&&(!_||typeof _!="string"||_!=="start"&&_!=="end")&&console.warn('Valid values for iconPlacement is "start" and "end".'),n.$$.dirty[0]&32&&i(17,l=b?"prom-icon-button--icon-only":""),n.$$.dirty[0]&1024&&i(16,t=v?"prom-icon-button--text-only":""),n.$$.dirty[0]&262144&&i(15,s=_==="end"?"prom-icon-button--icon-end":"")},[a,c,r,o,u,b,h,m,g,A,v,j,H,M,N,s,t,l,_,D,P,E,k,K,oe,he,me,B,le,ye,x,te,be,w]}class Ki extends De{constructor(e){super(),Re(this,e,Ji,Yi,Ie,{disabled:0,haspopup:1,expanded:2,htmlType:3,iconClass:4,iconOnly:5,iconPlacement:18,id:6,large:7,loading:8,text:9,textOnly:10,type:11,ariaLabel:12,labelledby:13,describedby:14},null,[-1,-1])}}const sn=window.navigator.userAgent;function Wi(){const n=sn.toLowerCase().indexOf("ipad")!==-1;return!n&&sn.match(/Mac/)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2?!0:n}function Qi(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(sn)}const Ee={BACKSPACE:"Backspace",DOWN:"Down",ENTER:"Enter",ESCAPE:"Escape",LEFT:"Left",RIGHT:"Right",SHIFT:"Shift",SPACE:"Space",TAB:"Tab",UP:"Up"};function xn(n){switch(n){case"Down":case"ArrowDown":return Ee.DOWN;case"Left":case"ArrowLeft":return Ee.LEFT;case"Right":case"ArrowRight":return Ee.RIGHT;case"Up":case"ArrowUp":return Ee.UP;case"Enter":return Ee.ENTER;case"Esc":case"Escape":return Ee.ESCAPE;case"Spacebar":case" ":return Ee.SPACE;case"Tab":return Ee.TAB;case"Backspace":return Ee.BACKSPACE;default:return n}}function Xi(n,e,...i){if(!n)throw TypeError("Template not specified");if(typeof n!="string")throw TypeError("Template is not a string");return n.replace(e,(l,t)=>t in i?i[t]:l)}function Ue(n,...e){return Xi(n,/\{(\d+)\}/g,...e)}function $n(){const e=(window.crypto||window.msCrypto).getRandomValues(new Uint8Array(16));e[6]=e[6]&15|64,e[8]=e[8]&63|128;let i=0;return"xxxx-xx-xx-xx-xxxxxx".replace(/x/g,()=>{const l=("0"+e[i].toString(16)).slice(-2);return i+=1,l})}function mn(n){let e;return{c(){e=S("span"),e.textContent="*",f(e,"aria-hidden","true"),f(e,"class","prom-input__required-star")},m(i,l){V(i,e,l)},d(i){i&&O(e)}}}function bn(n){let e,i;return{c(){e=S("span"),i=J(n[6]),f(e,"id",n[1]),f(e,"class","prom-checkbox__description")},m(l,t){V(l,e,t),p(e,i)},p(l,t){t&64&&Q(i,l[6]),t&2&&f(e,"id",l[1])},d(l){l&&O(e)}}}function _n(n){let e;return{c(){e=J(n[9])},m(i,l){V(i,e,l)},p(i,l){l&512&&Q(e,i[9])},d(i){i&&O(e)}}}function Zi(n){let e,i,l,t,s,a,c,r,o,u,b,_,h,m,g,A,v,j,H=n[5]&&mn(),M=n[6]&&bn(n),N=n[8]&&n[9]&&_n(n);return{c(){e=S("div"),i=S("label"),l=S("input"),s=Y(),a=S("span"),r=Y(),o=S("span"),u=J(n[11]),b=Y(),H&&H.c(),m=Y(),M&&M.c(),g=Y(),A=S("div"),N&&N.c(),f(l,"class","prom-checkbox__input"),f(l,"type","checkbox"),l.disabled=n[2],f(l,"name",n[4]),l.__value=n[7],un(l,l.__value),f(l,"id",n[3]),l.required=n[5],f(l,"aria-describedby",t=n[6]?n[1]:void 0),f(a,"class",c="prom-checkbox__custom-check "+n[15]),f(o,"class",_="prom-checkbox__label-text "+n[14]),f(i,"class",h="prom-checkbox "+n[17]+" "+n[16]+" "+n[13]),f(A,"aria-live","polite"),f(A,"class","prom-error-message prom-error-message--shown"),f(A,"id",n[12]),f(e,"class","prom-checkbox-wrapper")},m(D,P){V(D,e,P),p(e,i),p(i,l),n[24](l),l.checked=n[0],p(i,s),p(i,a),p(i,r),p(i,o),p(o,u),p(o,b),H&&H.m(o,null),p(e,m),M&&M.m(e,null),p(e,g),p(e,A),N&&N.m(A,null),v||(j=[ne(l,"change",n[25]),ne(l,"change",n[18])],v=!0)},p(D,[P]){P&4&&(l.disabled=D[2]),P&16&&f(l,"name",D[4]),P&128&&(l.__value=D[7],un(l,l.__value)),P&8&&f(l,"id",D[3]),P&32&&(l.required=D[5]),P&66&&t!==(t=D[6]?D[1]:void 0)&&f(l,"aria-describedby",t),P&1&&(l.checked=D[0]),P&32768&&c!==(c="prom-checkbox__custom-check "+D[15])&&f(a,"class",c),P&2048&&Q(u,D[11]),D[5]?H||(H=mn(),H.c(),H.m(o,null)):H&&(H.d(1),H=null),P&16384&&_!==(_="prom-checkbox__label-text "+D[14])&&f(o,"class",_),P&204800&&h!==(h="prom-checkbox "+D[17]+" "+D[16]+" "+D[13])&&f(i,"class",h),D[6]?M?M.p(D,P):(M=bn(D),M.c(),M.m(e,g)):M&&(M.d(1),M=null),D[8]&&D[9]?N?N.p(D,P):(N=_n(D),N.c(),N.m(A,null)):N&&(N.d(1),N=null),P&4096&&f(A,"id",D[12])},i:Z,o:Z,d(D){D&&O(e),n[24](null),H&&H.d(),M&&M.d(),N&&N.d(),v=!1,Le(j)}}}function xi(n,e,i){let l,t,s,a,c,r;const o=Xn();let{checked:u=!1}=e,{disabled:b=!1}=e,{label:_=void 0}=e,{id:h=void 0}=e,{name:m=void 0}=e,{labelHidden:g=!1}=e,{small:A=!1}=e,{required:v=!1}=e,{description:j=void 0}=e,{describedBy:H=void 0}=e,{elementLegacyColor:M=""}=e,{courseColor:N=""}=e,{value:D=""}=e,{hasError:P=!1}=e,{errorMessage:E=void 0}=e,k,K;j&&!H&&(H="prom-checkbox__information_id-"+$n());function oe(){o("change",{checked:u})}function he(B){Ne[B?"unshift":"push"](()=>{k=B,i(10,k)})}function me(){u=this.checked,i(0,u)}return n.$$set=B=>{"checked"in B&&i(0,u=B.checked),"disabled"in B&&i(2,b=B.disabled),"label"in B&&i(19,_=B.label),"id"in B&&i(3,h=B.id),"name"in B&&i(4,m=B.name),"labelHidden"in B&&i(20,g=B.labelHidden),"small"in B&&i(21,A=B.small),"required"in B&&i(5,v=B.required),"description"in B&&i(6,j=B.description),"describedBy"in B&&i(1,H=B.describedBy),"elementLegacyColor"in B&&i(22,M=B.elementLegacyColor),"courseColor"in B&&i(23,N=B.courseColor),"value"in B&&i(7,D=B.value),"hasError"in B&&i(8,P=B.hasError),"errorMessage"in B&&i(9,E=B.errorMessage)},n.$$.update=()=>{if(n.$$.dirty&4&&i(17,l=b?"disabled":""),n.$$.dirty&2097152&&i(16,t=A?"prom-checkbox--small":""),n.$$.dirty&12582912&&i(15,s=N||M),n.$$.dirty&524288){if(!_||typeof _!="string")throw new TypeError("Label must be supplied");i(11,K=_)}n.$$.dirty&1048576&&i(14,a=g?"screen-reader":""),n.$$.dirty&256&&i(13,c=P?"prom-checkbox--has-error":""),n.$$.dirty&8&&i(12,r=h+"__error-message")},[u,H,b,h,m,v,j,D,P,E,k,K,r,c,a,s,t,l,oe,_,g,A,M,N,he,me]}class $i extends De{constructor(e){super(),Re(this,e,xi,Zi,Ie,{checked:0,disabled:2,label:19,id:3,name:4,labelHidden:20,small:21,required:5,description:6,describedBy:1,elementLegacyColor:22,courseColor:23,value:7,hasError:8,errorMessage:9})}}const{window:el}=Ti;function nl(n){let e;const i=n[15].default,l=Yn(i,n,n[14],null);return{c(){l&&l.c()},m(t,s){l&&l.m(t,s),e=!0},p(t,s){l&&l.p&&(!e||s&16384)&&Wn(l,i,t,t[14],e?Kn(i,t[14],s,null):Qn(t[14]),null)},i(t){e||(R(l,t),e=!0)},o(t){F(l,t),e=!1},d(t){l&&l.d(t)}}}function il(n){let e;return{c(){e=J(n[3])},m(i,l){V(i,e,l)},p(i,l){l&8&&Q(e,i[3])},i:Z,o:Z,d(i){i&&O(e)}}}function ll(n){let e,i,l,t,s,a,c,r,o,u,b;const _=[il,nl],h=[];function m(g,A){return g[3]?0:1}return s=m(n),a=h[s]=_[s](n),{c(){e=S("div"),i=S("div"),l=Y(),t=S("div"),a.c(),f(i,"id","tooltip-arrow"),f(i,"class","prom-tooltip__arrow"),f(t,"id","tooltip-content"),f(t,"class","prom-tooltip__content"),f(e,"id",c=n[0]+"-"+n[2]),f(e,"class",r="prom-tooltip prom-tooltip-"+n[0]+" prom-tooltip--"+n[1]+" "+n[7]),f(e,"role",n[2])},m(g,A){V(g,e,A),p(e,i),n[16](i),p(e,l),p(e,t),h[s].m(t,null),n[17](t),n[18](e),o=!0,u||(b=[ne(el,"keyup",n[8]),ne(e,"mouseenter",n[9]),ne(e,"mouseleave",n[10])],u=!0)},p(g,[A]){let v=s;s=m(g),s===v?h[s].p(g,A):(ke(),F(h[v],1,1,()=>{h[v]=null}),pe(),a=h[s],a?a.p(g,A):(a=h[s]=_[s](g),a.c()),R(a,1),a.m(t,null)),(!o||A&5&&c!==(c=g[0]+"-"+g[2]))&&f(e,"id",c),(!o||A&131&&r!==(r="prom-tooltip prom-tooltip-"+g[0]+" prom-tooltip--"+g[1]+" "+g[7]))&&f(e,"class",r),(!o||A&4)&&f(e,"role",g[2])},i(g){o||(R(a),o=!0)},o(g){F(a),o=!1},d(g){g&&O(e),n[16](null),h[s].d(),n[17](null),n[18](null),u=!1,Le(b)}}}function tl(n,e,i){let l,{$$slots:t={},$$scope:s}=e,{element:a=null}=e,{id:c="mytooltip"}=e,{placement:r="top"}=e,{role:o="tooltip"}=e,{show:u=!1}=e,{text:b=""}=e,{hover:_=!1}=e,h,m,g;on(()=>{M(u)}),Ei(()=>{M(!1)});function A(k){xn(k.key)===Ee.ESCAPE&&i(11,u=!1)}function v(){i(12,_=!0),i(11,u=!0)}function j(){i(12,_=!1),i(11,u=!1)}function H(k){M(k),k&&setTimeout(N,0)}function M(k){if(k){if(a&&o==="tooltip"){const K=c+"-"+o;a.setAttribute("aria-describedby",K)}}else a&&a.hasAttribute("aria-describedby")&&a.removeAttribute("aria-describedby")}function N(){if(!a)return;const k=a.getBoundingClientRect(),K=h.offsetHeight,oe=h.offsetWidth,he=15,me=15;let B,le;switch(r){case"top":B=k.left-oe/2+k.width/2,le=k.top-K-he+window.pageYOffset;break;case"bottom":B=k.left-oe/2+k.width/2,le=k.bottom+he+window.pageYOffset;break;case"left":B=k.left-oe-me,le=k.top+(k.height-K)/2+window.pageYOffset;break;case"right":B=k.right+me,le=k.top+(k.height-K)/2+window.pageYOffset;break}i(4,h.style.left=B+"px",h),i(4,h.style.top=le+"px",h)}function D(k){Ne[k?"unshift":"push"](()=>{m=k,i(5,m)})}function P(k){Ne[k?"unshift":"push"](()=>{g=k,i(6,g)})}function E(k){Ne[k?"unshift":"push"](()=>{h=k,i(4,h)})}return n.$$set=k=>{"element"in k&&i(13,a=k.element),"id"in k&&i(0,c=k.id),"placement"in k&&i(1,r=k.placement),"role"in k&&i(2,o=k.role),"show"in k&&i(11,u=k.show),"text"in k&&i(3,b=k.text),"hover"in k&&i(12,_=k.hover),"$$scope"in k&&i(14,s=k.$$scope)},n.$$.update=()=>{n.$$.dirty&2048&&i(7,l=u?"":"prom-tooltip__hidden"),n.$$.dirty&2048&&u&&H(u)},[c,r,o,b,h,m,g,l,A,v,j,u,_,a,s,t,D,P,E]}class sl extends De{constructor(e){super(),Re(this,e,tl,ll,Ie,{element:13,id:0,placement:1,role:2,show:11,text:3,hover:12})}}function al(n){let e,i,l=(n[0]?n[1].completed:n[1].notCompleted)+"",t;return{c(){e=S("div"),i=S("span"),t=J(l),f(i,"class","screen-reader"),f(e,"class","its-plans__element-progress"),Ae(e,"complete",n[0])},m(s,a){V(s,e,a),p(e,i),p(i,t)},p(s,[a]){a&3&&l!==(l=(s[0]?s[1].completed:s[1].notCompleted)+"")&&Q(t,l),a&1&&Ae(e,"complete",s[0])},i:Z,o:Z,d(s){s&&O(e)}}}function rl(n,e,i){let{complete:l}=e,{i18n:t}=e;return n.$$set=s=>{"complete"in s&&i(0,l=s.complete),"i18n"in s&&i(1,t=s.i18n)},[l,t]}class ol extends De{constructor(e){super(),Re(this,e,rl,al,Ie,{complete:0,i18n:1})}}const U=window.plansConfig.i18n;function cl(n){let e,i,l,t,s,a;return i=new ol({props:{i18n:U,complete:!0}}),{c(){e=S("div"),Se(i.$$.fragment),l=Y(),t=S("span"),s=J(n[0]),f(t,"aria-hidden","true"),f(e,"class","itsl-plan-completed")},m(c,r){V(c,e,r),Pe(i,e,null),p(e,l),p(e,t),p(t,s),a=!0},p(c,[r]){(!a||r&1)&&Q(s,c[0])},i(c){a||(R(i.$$.fragment,c),a=!0)},o(c){F(i.$$.fragment,c),a=!1},d(c){c&&O(e),we(i)}}}function fl(n,e,i){let{labelText:l=U.completed}=e;return n.$$set=t=>{"labelText"in t&&i(0,l=t.labelText)},[l]}class ul extends De{constructor(e){super(),Re(this,e,fl,cl,Ie,{labelText:0})}}function hn(n){let e;return{c(){e=J(n[6])},m(i,l){V(i,e,l)},p(i,l){l&64&&Q(e,i[6])},d(i){i&&O(e)}}}function gn(n){let e,i;return{c(){e=S("div"),i=J(n[7]),f(e,"id",n[11]),f(e,"class","prom-link__description")},m(l,t){V(l,e,t),p(e,i)},p(l,t){t&128&&Q(i,l[7])},d(l){l&&O(e)}}}function dl(n){let e,i,l,t,s,a,c,r,o;const u=n[19].default,b=Yn(u,n,n[18],null);let _=n[6]&&hn(n),h=n[7]&&gn(n);return{c(){e=S("a"),b&&b.c(),i=Y(),_&&_.c(),s=Y(),h&&h.c(),a=Ve(),f(e,"class",l="prom-link prom-link--"+n[0]+" "+n[9]),f(e,"href",n[1]),f(e,"rel",n[2]),f(e,"target",n[3]),f(e,"ping",n[8]),f(e,"download",n[10]),f(e,"aria-label",n[5]),f(e,"aria-describedby",t=n[7]?n[11]:void 0),Ae(e,"prom-link--large",n[4])},m(m,g){V(m,e,g),b&&b.m(e,null),p(e,i),_&&_.m(e,null),V(m,s,g),h&&h.m(m,g),V(m,a,g),c=!0,r||(o=ne(e,"click",n[20]),r=!0)},p(m,[g]){b&&b.p&&(!c||g&262144)&&Wn(b,u,m,m[18],c?Kn(u,m[18],g,null):Qn(m[18]),null),m[6]?_?_.p(m,g):(_=hn(m),_.c(),_.m(e,null)):_&&(_.d(1),_=null),(!c||g&513&&l!==(l="prom-link prom-link--"+m[0]+" "+m[9]))&&f(e,"class",l),(!c||g&2)&&f(e,"href",m[1]),(!c||g&4)&&f(e,"rel",m[2]),(!c||g&8)&&f(e,"target",m[3]),(!c||g&256)&&f(e,"ping",m[8]),(!c||g&1024)&&f(e,"download",m[10]),(!c||g&32)&&f(e,"aria-label",m[5]),(!c||g&128&&t!==(t=m[7]?m[11]:void 0))&&f(e,"aria-describedby",t),(!c||g&529)&&Ae(e,"prom-link--large",m[4]),m[7]?h?h.p(m,g):(h=gn(m),h.c(),h.m(a.parentNode,a)):h&&(h.d(1),h=null)},i(m){c||(R(b,m),c=!0)},o(m){F(b,m),c=!1},d(m){m&&(O(e),O(s),O(a)),b&&b.d(m),_&&_.d(),h&&h.d(m),r=!1,o()}}}function ml(n,e,i){let l,t,s,{$$slots:a={},$$scope:c}=e,{kind:r="primary"}=e,{href:o="#"}=e,{rel:u=""}=e,{iconClass:b=""}=e,{iconPlacement:_="start"}=e,{target:h="_self"}=e,{large:m=!1}=e,{label:g=null}=e,{text:A=void 0}=e,{description:v=void 0}=e,{ping:j=void 0}=e,{standalone:H=!1}=e,{downloadable:M=!1}=e,{fileName:N=null}=e;const D=$n();H&&(r="standalone");function P(E){W.call(this,n,E)}return n.$$set=E=>{"kind"in E&&i(0,r=E.kind),"href"in E&&i(1,o=E.href),"rel"in E&&i(2,u=E.rel),"iconClass"in E&&i(12,b=E.iconClass),"iconPlacement"in E&&i(13,_=E.iconPlacement),"target"in E&&i(3,h=E.target),"large"in E&&i(4,m=E.large),"label"in E&&i(5,g=E.label),"text"in E&&i(6,A=E.text),"description"in E&&i(7,v=E.description),"ping"in E&&i(8,j=E.ping),"standalone"in E&&i(14,H=E.standalone),"downloadable"in E&&i(15,M=E.downloadable),"fileName"in E&&i(16,N=E.fileName),"$$scope"in E&&i(18,c=E.$$scope)},n.$$.update=()=>{n.$$.dirty&98304&&i(10,l=M?N||"":null),n.$$.dirty&8192&&i(17,s=_==="start"?"prom-link--icon-start ":"prom-link--icon-end "),n.$$.dirty&135169&&i(9,t=r==="standalone"&&b?"prom-link--icon "+s+b:""),n.$$.dirty&4193&&(b&&r!=="standalone"&&console.warn("Icons can only be added to links in 'standalone' mode."),b&&!A&&!g&&console.warn("Links must have discernible text. If it is an icon-only link, use 'label' to add hidden text."))},[r,o,u,h,m,g,A,v,j,t,l,D,b,_,H,M,N,s,c,a,P]}class bl extends De{constructor(e){super(),Re(this,e,ml,dl,Ie,{kind:0,href:1,rel:2,iconClass:12,iconPlacement:13,target:3,large:4,label:5,text:6,description:7,ping:8,standalone:14,downloadable:15,fileName:16})}}class _l extends Error{constructor(e,i){super(e),this.response=i}}const hl=Object.freeze({ok:200,created:201,accepted:202,nonAuthoritativeInformation:203,noContent:204,resetContent:205,partialContent:206,multipleChoices:300,movedPermanently:301,found:302,seeOther:303,notModified:304,useProxy:305,temporaryRedirect:307,badRequest:400,unauthorized:401,paymentRequired:402,forbidden:403,notFound:404,methodNotAllowed:405,notAcceptable:406,proxyAuthenticationRequired:407,requestTimeout:408,conflict:409,gone:410,internalServerError:500,notImplemented:501,badGateway:502,serviceUnavailable:503,gatewayTimeout:504,httpVersionNotSupported:505});function gl(n,e,i={}){return new Promise((l,t)=>{fetch(n,Xe("POST",JSON.stringify(e),i)).then(Qe).then(l).catch(t)})}function kl(n,e,i={}){return new Promise((l,t)=>{fetch(n,Xe("PUT",JSON.stringify(e),i)).then(Qe).then(l).catch(t)})}function pl(n,e,i={}){return new Promise((l,t)=>{fetch(n,Xe("DELETE",JSON.stringify(e),i)).then(Qe).then(l).catch(t)})}function yl(n,e={}){return new Promise((i,l)=>{fetch(n,Xe("GET",void 0,e)).then(Qe).then(i).catch(l)})}function Qe(n){if(!n.ok)throw new _l(n.statusText,n);return n.status===hl.noContent?new Promise(e=>e(void 0)):n.clone().json().catch(()=>n.text())}function Xe(n,e,i){return{method:n,mode:i.mode!==void 0?i.mode:"cors",cache:i.cache!==void 0?i.cache:"default",credentials:i.credentials!==void 0?i.credentials:"same-origin",headers:Object.assign({"Content-Type":"application/json; charset=utf-8"},i.headers),body:e}}const L=window.plansConfig,Ce={current:0,past:1,withoutDate:2,topic:3,topics:4,overview:5,calendar:6,myPage:7,parentDashboard:8,all:10,tableView:11,calendarPlans:12},an=3,ge={RichText:0,Topic:1,Plan:3,PlanDescription:4,Date:5,ClassHours:6,LearningObjectives:7,Resources:8,Activities:9,Term:10,Rubric:11,Elements:12,Thumbnail:13,TopicThumbnail:14},G={All:1,Teacher:0,Nobody:2},Cl={RichText:0,Topic:1,PlanTitle:3,PlanDescription:4,Date:5,ClassHours:6,LearningObjectives:7,Resources:8,Activities:9,Term:10,Rubric:11,Elements:12,Thumbnail:13,TopicThumbnail:14},ee={everything:0,resources:1,activities:2};Pl(Cl);function Pl(n){const e={};return Object.keys(n).forEach(i=>e[n[i]]=i),e}const Fe=Object.freeze({deadLineDriven:0,onePlanAtATime:1,allPlansAtOnce:2}),Ke=Object.freeze({locked:0,unlocked:1,inProgress:2,reopened:3,completed:4}),ei=()=>({headers:{[L.antiForgeryHeaderName]:L.antiForgeryHeaderValue}}),wl=(n,e,i,l,t=0)=>yl(`/restapi/personal/course/${n}/plans/selected/v1?ChildId=${e}&planIds=${i.join()}&viewForPersonId=${l}&PageIndex=${t}&PageSize=${an}`),Tl=(n,e)=>kl(`/restapi/course/${n}/plans/${e}/progress/completion/v1`,void 0,ei()),Al=(n,e)=>pl(`/restapi/course/${n}/plans/${e}/progress/completion/v1`,void 0,ei());function Ge(n,e,i=void 0){const l=new URL(location.origin+n),t=/plans\/(?:courses|public)\/\w+\/(current|past|withoutdate|all)\//i,s=/plans\/courses\/(\d+)\/tableView/,a=location.pathname.match(s),c=location.pathname.match(t),r=/\/plans\/(?:courses|public)\/\w+\/topics\/(\d+)/i,o=location.href.match(r),u=/\/plans\/(?:courses|public)\/\w+\/topics(?:[/]|[?]).*$/i,b=location.href.match(u),_=/.+LocationId=(\d+).+&SummaryDashboardType=Parent/i,h="/Dashboard/Dashboard.aspx";if(c)switch(c[1]){case"current":l.searchParams.append("BackDestination",Ce.current);break;case"past":l.searchParams.append("BackDestination",Ce.past);break;case"withoutdate":l.searchParams.append("BackDestination",Ce.withoutDate);break;case"all":l.searchParams.append("BackDestination",Ce.all);break;default:l.searchParams.append("BackDestination",Ce.current);break}else if(o)l.searchParams.append("BackDestination",Ce.topic),l.searchParams.get("TopicId")||l.searchParams.append("TopicId",o[1]);else if(b)l.searchParams.append("BackDestination",Ce.topics);else if(a)l.searchParams.append("BackDestination",Ce.tableView),e&&l.searchParams.append("BackData",JSON.stringify(e));else if(location.pathname.includes("Course/course.aspx"))l.searchParams.append("BackDestination",Ce.overview);else if(location.pathname.includes(L.calendarUrl))l.searchParams.append("BackDestination",Ce.calendar),l.searchParams.append("BackData",JSON.stringify(e));else if(location.pathname.includes(L.dashboardUrl?L.dashboardUrl:h)){const m=location.href.match(_);if(m){l.searchParams.append("BackDestination",Ce.parentDashboard),l.searchParams.append("BackData",JSON.stringify({HierarchyId:m[1]}));const g=window.location.search,v=new URLSearchParams(g).get("ChildId");v&&v>0&&l.searchParams.append("ChildId",v)}else l.searchParams.append("BackDestination",Ce.myPage)}else location.pathname.includes("tableView")?l.searchParams.append("BackDestination",Ce.tableView):location.pathname.includes("CalendarPlans")?(l.searchParams.append("BackDestination",Ce.calendarPlans),i&&l.searchParams.append("FilterPersonId",i)):(l.searchParams.set("BackDestination",Ce.current),e&&l.searchParams.append("BackData",JSON.stringify(e)));return!l.searchParams.get("ChildId")&&L.childId>0&&l.searchParams.append("ChildId",L.childId),l.href}function Sl({url:n="/restapi/common/kpi/v1",section:e,measurement:i,context:l=null}){return gl(n,{measureSection:e,measurement:i,measureContext:l})}const ni=async n=>{try{await Sl({url:L.kpi.kpiUrl,context:L.kpi.kpiContext,section:L.kpi.kpiSectionNewPlanner,measurement:n})}catch(e){console.log(e)}};function kn(n){let e,i,l,t;return i=new bl({props:{href:n[4],iconClass:n[1],iconPlacement:"end",kind:n[2],$$slots:{default:[El]},$$scope:{ctx:n}}}),i.$on("click",function(){We(n[7])&&n[7].apply(this,arguments)}),{c(){e=S("div"),Se(i.$$.fragment),f(e,"class",l=`itsl-progess-plan-link ${n[0]} ${pn}`)},m(s,a){V(s,e,a),Pe(i,e,null),t=!0},p(s,a){n=s;const c={};a[0]&16&&(c.href=n[4]),a[0]&2&&(c.iconClass=n[1]),a[0]&4&&(c.kind=n[2]),a[0]&40|a[1]&65536&&(c.$$scope={dirty:a,ctx:n}),i.$set(c),(!t||a[0]&1&&l!==(l=`itsl-progess-plan-link ${n[0]} ${pn}`))&&f(e,"class",l)},i(s){t||(R(i.$$.fragment,s),t=!0)},o(s){F(i.$$.fragment,s),t=!1},d(s){s&&O(e),we(i)}}}function El(n){let e,i,l,t,s;return{c(){e=S("span"),i=J(n[5]),l=Y(),t=S("span"),s=J(n[3]),f(e,"class","screen-reader"),f(t,"aria-hidden","true")},m(a,c){V(a,e,c),p(e,i),V(a,l,c),V(a,t,c),p(t,s)},p(a,c){c[0]&32&&Q(i,a[5]),c[0]&8&&Q(s,a[3])},d(a){a&&(O(e),O(l),O(t))}}}function Ll(n){let e,i,l=n[6]&&kn(n);return{c(){l&&l.c(),e=Ve()},m(t,s){l&&l.m(t,s),V(t,e,s),i=!0},p(t,s){t[6]?l?(l.p(t,s),s[0]&64&&R(l,1)):(l=kn(t),l.c(),R(l,1),l.m(e.parentNode,e)):l&&(ke(),F(l,1,1,()=>{l=null}),pe())},i(t){i||(R(l),i=!0)},o(t){F(l),i=!1},d(t){t&&O(e),l&&l.d(t)}}}const pn="";function Il(n,e,i){let l,t,s,a,{backExtraParams:c={}}=e,{columnVisibilities:r=void 0}=e,{containerClass:o=""}=e,{courseId:u=void 0}=e,{iconClass:b=""}=e,{isPlanCard:_=!1}=e,{kind:h="primary-standalone"}=e,{kpiContinue:m=L.kpi.kpiMeasurementContinuePlanCard}=e,{kpiStart:g=L.kpi.kpiMeasurementStartPlanCard}=e,{plan:A=void 0}=e,{startAtPlanPage:v=!1}=e,{useGenericResourceColumn:j=!1}=e,{useNextPlanFeature:H=!0}=e,M=!1,N=!1,D=!0,P=U.start,E="",k=U.startPlan,K=!1;const oe=A.planStatus===Ke.completed,he=L.nextAvailablePlanId==null,me=A.planStatus===Ke.reopened,B=A.useBetterProgressionBetweenPlansWithoutDate;let le=L.columnVisibilities?L.columnVisibilities[ge.Resources]:void 0,ye=L.columnVisibilities?L.columnVisibilities[ge.Activities]:void 0,x=L.columnVisibilities?L.columnVisibilities[ge.Elements]:void 0;const te=A.elements.filter(y=>!y.isFolder).length>0,be=te?A.elements.filter(y=>!y.isResource&&!y.isFolder):[],w=te?A.elements.filter(y=>y.isResource&&!y.isFolder):[],T=be.every(y=>y.isCompleted),Te=w.every(y=>y.isCompleted),ce=A.elements.every(y=>y.isCompleted||y.isFolder),z=w.every(y=>!y.isCompleted),q=be.every(y=>!y.isCompleted);let $=()=>{};on(async()=>{(te&&T||!te&&!_&&(L.planType==Fe.deadLineDriven||L.planType==Fe.allPlansAtOnce)||!te&&!_&&he)&&ue(),me&&de()});const se=()=>{i(3,P=U.start),i(5,k=U.startPlan),i(20,D=!0),i(18,M=i(19,N=!1)),i(7,$=X(ae))},_e=()=>{i(3,P=U.continue),i(5,k=U.continuePlan),i(18,M=!0),i(20,D=i(19,N=!1)),i(7,$=X(ae))},fe=()=>{i(3,P=U.nextPlan),i(5,k=U.nextPlan),i(19,N=!0),i(20,D=i(18,M=!1)),i(7,$=X(ue))},ae=async()=>{await ni(M?m:g)},ue=async()=>{oe||await Tl(u,A.id)},de=async()=>{me&&await Al(u,A.id)},X=y=>async C=>{C.preventDefault(),await y(),window.location.href=E};return n.$$set=y=>{"backExtraParams"in y&&i(8,c=y.backExtraParams),"columnVisibilities"in y&&i(9,r=y.columnVisibilities),"containerClass"in y&&i(0,o=y.containerClass),"courseId"in y&&i(10,u=y.courseId),"iconClass"in y&&i(1,b=y.iconClass),"isPlanCard"in y&&i(11,_=y.isPlanCard),"kind"in y&&i(2,h=y.kind),"kpiContinue"in y&&i(12,m=y.kpiContinue),"kpiStart"in y&&i(13,g=y.kpiStart),"plan"in y&&i(14,A=y.plan),"startAtPlanPage"in y&&i(15,v=y.startAtPlanPage),"useGenericResourceColumn"in y&&i(16,j=y.useGenericResourceColumn),"useNextPlanFeature"in y&&i(17,H=y.useNextPlanFeature)},n.$$.update=()=>{if(n.$$.dirty[0]&16384&&i(24,l=L.planType===Fe.onePlanAtATime&&(A.elements.length===0||A.elements.every(y=>y.isCompleted))&&!oe),n.$$.dirty[0]&2097664&&le===void 0&&r&&(i(21,le=r[ge.Resources]),i(22,ye=r[ge.Activities]),i(23,x=r[ge.Elements])),n.$$.dirty[0]&2097152&&i(26,t=le===G.All),n.$$.dirty[0]&4194304&&i(25,s=ye===G.All),n.$$.dirty[0]&8388608&&i(27,a=x===G.All),n.$$.dirty[0]&235094016){let y=!1,C=!1,I=!1;j?a?(C=A.elements.some(Oe=>Oe.isCompleted&&!Oe.isFolder),I=ce):I=!0:(C=t&&!Te||s&&!T,I=!t&&!s||t&&!s&&Te||!t&&s&&T||t&&Te&&s&&T,y=(w.length>0||be.length>0)&&t&&z&&s&&q),y?se():I&&H?fe():C?_e():se()}if(n.$$.dirty[0]&253346048){let y="";if(v&&D)y=Ge(A.url,c);else if(N)y=Ge(L.nextAvailablePlanUrl,c);else{let C;j&&a?C=A.elements.find(I=>!I.isCompleted):L.areActivitiesBeforeResources?C=s&&!T?be.find(I=>!I.isCompleted):t&&!Te?w.find(I=>!I.isCompleted):void 0:C=t&&!Te?w.find(I=>!I.isCompleted):s&&!T?be.find(I=>!I.isCompleted):void 0,C?y=Ge(`${A.url}/element/${C.id}`,c):l&&A.elements.length>0&&(y=Ge(`${A.url}/element/${A.elements[A.elements.length-1].id}`,c))}i(4,E=y)}n.$$.dirty[0]&1966080&&(i(6,K=(oe||te&&ce)&&!H||N&&L.planType==Fe.deadLineDriven?!1:D||M||N&&L.nextAvailablePlanId),!te&&!B&&i(6,K=!1))},[o,b,h,P,E,k,K,$,c,r,u,_,m,g,A,v,j,H,M,N,D,le,ye,x,l,s,t,a]}class Rl extends De{constructor(e){super(),Re(this,e,Il,Ll,Ie,{backExtraParams:8,columnVisibilities:9,containerClass:0,courseId:10,iconClass:1,isPlanCard:11,kind:2,kpiContinue:12,kpiStart:13,plan:14,startAtPlanPage:15,useGenericResourceColumn:16,useNextPlanFeature:17},null,[-1,-1])}}function Dl(n){let e,i,l,t,s,a,c,r,o,u,b,_,h;return{c(){e=S("div"),i=S("label"),l=S("span"),t=J(n[7]),s=Y(),a=S("span"),c=J(n[5]),o=Y(),u=S("progress"),f(l,"aria-hidden",n[6]),f(a,"class","screen-reader"),f(i,"for",r=n[0]+"-progress"),f(u,"id",b=n[0]+"-progress"),f(u,"max",n[2]),u.value=n[1],f(u,"aria-label",n[5]),f(u,"aria-valuenow",n[1]),f(u,"class",_="itsl-progress-bar__progress "+n[4]),Ae(u,"itsl-progress-bar__progress--full",n[1]>=n[2]),f(e,"id",n[0]),f(e,"class",h="itsl-progress-bar "+n[3])},m(m,g){V(m,e,g),p(e,i),p(i,l),p(l,t),p(i,s),p(i,a),p(a,c),p(e,o),p(e,u)},p(m,[g]){g&128&&Q(t,m[7]),g&64&&f(l,"aria-hidden",m[6]),g&32&&Q(c,m[5]),g&1&&r!==(r=m[0]+"-progress")&&f(i,"for",r),g&1&&b!==(b=m[0]+"-progress")&&f(u,"id",b),g&4&&f(u,"max",m[2]),g&2&&(u.value=m[1]),g&32&&f(u,"aria-label",m[5]),g&2&&f(u,"aria-valuenow",m[1]),g&16&&_!==(_="itsl-progress-bar__progress "+m[4])&&f(u,"class",_),g&22&&Ae(u,"itsl-progress-bar__progress--full",m[1]>=m[2]),g&1&&f(e,"id",m[0]),g&8&&h!==(h="itsl-progress-bar "+m[3])&&f(e,"class",h)},i:Z,o:Z,d(m){m&&O(e)}}}function Ol(n,e,i){let l,t,s,{id:a=Math.random().toString(36).substring(2,15)}=e,{value:c=0}=e,{max:r}=e,{cssClass:o=""}=e,{progressCssClass:u=""}=e,{accessibleText:b}=e,{displayText:_="{0}/{1}"}=e;return n.$$set=h=>{"id"in h&&i(0,a=h.id),"value"in h&&i(1,c=h.value),"max"in h&&i(2,r=h.max),"cssClass"in h&&i(3,o=h.cssClass),"progressCssClass"in h&&i(4,u=h.progressCssClass),"accessibleText"in h&&i(8,b=h.accessibleText),"displayText"in h&&i(9,_=h.displayText)},n.$$.update=()=>{n.$$.dirty&262&&i(5,l=b&&Ue(b,c,r)),n.$$.dirty&518&&i(7,t=Ue(_,c,r)),n.$$.dirty&32&&i(6,s=!!l)},[a,c,r,o,u,l,s,t,b,_]}class Nl extends De{constructor(e){super(),Re(this,e,Ol,Dl,Ie,{id:0,value:1,max:2,cssClass:3,progressCssClass:4,accessibleText:8,displayText:9})}}const yn=Symbol("NoTopicImages");function Vl(n,e){const i=new Map([...e.topicColourImages.map(l=>[l.colorSchemaName,{imageIndex:Cn(l.imageUrls.length),imageUrls:l.imageUrls}]),[yn,{imageIndex:Cn(e.noTopicImages.length),imageUrls:e.noTopicImages}]]);return{getImageForTopic:l=>{if(l&&!l.color)return null;let t=yn;if(l){const c=n.find(r=>r.hexCode===l.color);c&&(t=c.className)}const s=i.get(t);if(!s)return null;const a=s.imageIndex;return i.set(t,{...s,imageIndex:a+1>=s.imageUrls.length?0:a+1}),s.imageUrls[a]}}}const Cn=n=>Math.floor(Math.random()*n);function Bl(n,e){return n.entityArray.map(i=>(i.start&&(i.start=ze(i.start)),i.stop&&(i.stop=ze(i.stop)),i.activeFromDT&&(i.activeFromDT=ze(i.activeFromDT)),Ml(i,e),i))}function ze(n){const e=new Date(n),i=e.getTimezoneOffset()*6e4;return new Date(e.getTime()+i)}function Ml(n,e){!n||!e||(n.placeholderImageUrl=n.imageUrl?null:e.getImageForTopic(n.topic))}function vl(n,e,i,l=!1){let t,s;typeof n!="object"&&(n=ze(new Date(n))),typeof e!="object"&&(e=ze(new Date(e)));try{const r=n.getFullYear()===e.getFullYear(),o=new Date().getFullYear()===e.getFullYear(),b={day:"numeric",month:"short",year:r&&o?void 0:"numeric"};t=n.toLocaleDateString(i,b),s=e.toLocaleDateString(i,b)}catch{t=n.toLocaleDateString(),s=e.toLocaleDateString()}if(Pn(n.getUTCMinutes(),e.getUTCMinutes())&&e.getTime()-n.getTime()<864e5)return t;let a,c;try{const r={minute:"numeric",hour:"numeric",hour12:L.useTwelveHourFormat};a=n.toLocaleTimeString(i,r),c=e.toLocaleTimeString(i,r)}catch{a=n.toLocaleTimeString(),c=e.toLocaleTimeString()}return t===s?`${t} ${a}–${c}`:l?Pn(n.getUTCMinutes(),e.getUTCMinutes())?`${t}–${s}`:`${t} ${a}–${s} ${c}`:`${t}-${s}`}function Pn(n,e){return n===1||e===59}const Ul=n=>{var i;let e=n.planStatus===Ke.completed;return!e&&((i=n.elements)!=null&&i.some(l=>!l.isFolder))&&(e=n.elements.every(l=>l.isFolder||l.isCompleted)),e};function wn(n=void 0,e=void 0,i=void 0){return!i&&Fl(ge.Date,!0,n,e)}function Fl(n,e,i=void 0,l=void 0){let t=L.columnVisibilities?L.columnVisibilities[n]:void 0;return!L.columnVisibilities||t===void 0||L.canEdit===void 0?i?(t=i[n],l?t!==G.Nobody:t===G.All&&e):!0:L.canEdit?t!==G.Nobody:t===G.All&&e}function Tn(n){let e,i,l,t,s,a,c;return{c(){e=S("a"),i=S("span"),l=J(n[32]),f(i,"class","screen-reader"),f(e,"tabindex",t=n[5]?-1:0),f(e,"href",n[36]),f(e,"class","itsl-plan-card__link"),f(e,"aria-labelledby",s=n[2]+"--title"),f(e,"target",n[11]),f(e,"rel","noopener")},m(r,o){V(r,e,o),p(e,i),p(i,l),a||(c=ne(e,"click",n[57]),a=!0)},p(r,o){o[1]&2&&Q(l,r[32]),o[0]&32&&t!==(t=r[5]?-1:0)&&f(e,"tabindex",t),o[1]&32&&f(e,"href",r[36]),o[0]&4&&s!==(s=r[2]+"--title")&&f(e,"aria-labelledby",s),o[0]&2048&&f(e,"target",r[11])},d(r){r&&O(e),a=!1,c()}}}function An(n){let e,i,l,t=n[3]&&Sn(n),s=n[4]&&En(n);return{c(){e=S("div"),t&&t.c(),i=Y(),s&&s.c(),f(e,"class","itsl-plan-card__controls")},m(a,c){V(a,e,c),t&&t.m(e,null),p(e,i),s&&s.m(e,null),l=!0},p(a,c){a[3]?t?(t.p(a,c),c[0]&8&&R(t,1)):(t=Sn(a),t.c(),R(t,1),t.m(e,i)):t&&(ke(),F(t,1,1,()=>{t=null}),pe()),a[4]?s?(s.p(a,c),c[0]&16&&R(s,1)):(s=En(a),s.c(),R(s,1),s.m(e,null)):s&&(ke(),F(s,1,1,()=>{s=null}),pe())},i(a){l||(R(t),R(s),l=!0)},o(a){F(t),F(s),l=!1},d(a){a&&O(e),t&&t.d(),s&&s.d()}}}function Sn(n){let e,i,l;function t(a){n[58](a)}let s={label:U.select+" "+n[32],labelHidden:!0,small:!0,describedBy:null};return n[0]!==void 0&&(s.checked=n[0]),e=new $i({props:s}),Ne.push(()=>Bi(e,"checked",t)),e.$on("change",function(){We(n[41](n[1].id,n[0]))&&n[41](n[1].id,n[0]).apply(this,arguments)}),{c(){Se(e.$$.fragment)},m(a,c){Pe(e,a,c),l=!0},p(a,c){n=a;const r={};c[1]&2&&(r.label=U.select+" "+n[32]),!i&&c[0]&1&&(i=!0,r.checked=n[0],Ri(()=>i=!1)),e.$set(r)},i(a){l||(R(e.$$.fragment,a),l=!0)},o(a){F(e.$$.fragment,a),l=!1},d(a){we(e,a)}}}function En(n){let e,i,l,t,s,a,c,r,o=n[26]&&Ln(n);return{c(){e=S("button"),t=Y(),s=S("div"),o&&o.c(),f(e,"id",i=n[2]+"--drag"),f(e,"class","itsl-plan-card__drag"),f(e,"aria-labelledby",l=n[2]+"--title"),f(e,"aria-pressed",n[13]),f(s,"class","itsl-plan-card__tooltip-container"),f(s,"aria-live","polite"),Ae(s,"itsl-plan-card__tooltip-container--visible",n[26])},m(u,b){V(u,e,b),n[59](e),V(u,t,b),V(u,s,b),o&&o.m(s,null),a=!0,c||(r=[ne(e,"mousedown",n[42]),ne(e,"touchstart",n[42]),ne(e,"click",n[43]),ne(e,"keyup",n[44]),ne(e,"blur",n[45])],c=!0)},p(u,b){(!a||b[0]&4&&i!==(i=u[2]+"--drag"))&&f(e,"id",i),(!a||b[0]&4&&l!==(l=u[2]+"--title"))&&f(e,"aria-labelledby",l),(!a||b[0]&8192)&&f(e,"aria-pressed",u[13]),u[26]?o?(o.p(u,b),b[0]&67108864&&R(o,1)):(o=Ln(u),o.c(),R(o,1),o.m(s,null)):o&&(ke(),F(o,1,1,()=>{o=null}),pe()),(!a||b[0]&67108864)&&Ae(s,"itsl-plan-card__tooltip-container--visible",u[26])},i(u){a||(R(o),a=!0)},o(u){F(o),a=!1},d(u){u&&(O(e),O(t),O(s)),n[59](null),o&&o.d(),c=!1,Le(r)}}}function Ln(n){let e,i;return e=new sl({props:{element:n[24],id:n[2]+"-drag-tip",placement:"bottom",role:"tooltip",show:n[26],text:U.elementDragHandleTooltip}}),{c(){Se(e.$$.fragment)},m(l,t){Pe(e,l,t),i=!0},p(l,t){const s={};t[0]&16777216&&(s.element=l[24]),t[0]&4&&(s.id=l[2]+"-drag-tip"),t[0]&67108864&&(s.show=l[26]),e.$set(s)},i(l){i||(R(e.$$.fragment,l),i=!0)},o(l){F(e.$$.fragment,l),i=!1},d(l){we(e,l)}}}function In(n){let e,i;return e=new Rl({props:{backExtraParams:n[12],columnVisibilities:n[16],containerClass:"itsl-plan-card__image-button",courseId:L.courseId??n[19],iconClass:"itsl-plan-card__image-button-icon",isPlanCard:!0,kind:"standalone",plan:n[1],startAtPlanPage:!0,useNextPlanFeature:!1,useGenericResourceColumn:L.useGenericResourceColumn||n[17]}}),{c(){Se(e.$$.fragment)},m(l,t){Pe(e,l,t),i=!0},p(l,t){const s={};t[0]&4096&&(s.backExtraParams=l[12]),t[0]&65536&&(s.columnVisibilities=l[16]),t[0]&524288&&(s.courseId=L.courseId??l[19]),t[0]&2&&(s.plan=l[1]),t[0]&131072&&(s.useGenericResourceColumn=L.useGenericResourceColumn||l[17]),e.$set(s)},i(l){i||(R(e.$$.fragment,l),i=!0)},o(l){F(e.$$.fragment,l),i=!1},d(l){we(e,l)}}}function Rn(n){let e;return{c(){e=S("div"),f(e,"class","itsl-plan-card__image-icon")},m(i,l){V(i,e,l)},d(i){i&&O(e)}}}function Dn(n){let e;function i(s,a){return s[6]&&s[10]?Gl:Hl}let l=i(n),t=l(n);return{c(){t.c(),e=Ve()},m(s,a){t.m(s,a),V(s,e,a)},p(s,a){l===(l=i(s))&&t?t.p(s,a):(t.d(1),t=l(s),t&&(t.c(),t.m(e.parentNode,e)))},d(s){s&&O(e),t.d(s)}}}function Hl(n){let e,i,l=n[1].topic.name+"",t,s,a,c,r;return{c(){e=S("span"),i=S("span"),t=J(l),s=Y(),a=S("span"),c=J(": "),r=J(n[9]),f(a,"class","screen-reader"),f(e,"style",n[31]),f(e,"class","itsl-plan-card__topic")},m(o,u){V(o,e,u),p(e,i),p(i,t),p(e,s),p(e,a),p(a,c),p(a,r)},p(o,u){u[0]&2&&l!==(l=o[1].topic.name+"")&&Q(t,l),u[0]&512&&Q(r,o[9]),u[1]&1&&f(e,"style",o[31])},d(o){o&&O(e)}}}function Gl(n){let e,i,l=n[1].topic.name+"",t,s,a,c,r,o,u;return{c(){e=S("a"),i=S("span"),t=J(l),s=Y(),a=S("span"),c=J(": "),r=J(n[9]),f(a,"class","screen-reader"),f(e,"tabindex",o=n[5]?-1:0),f(e,"href",u=n[1].topic.url),f(e,"style",n[31]),f(e,"class","itsl-plan-card__topic"),f(e,"target",n[11]),f(e,"rel","noopener")},m(b,_){V(b,e,_),p(e,i),p(i,t),p(e,s),p(e,a),p(a,c),p(a,r)},p(b,_){_[0]&2&&l!==(l=b[1].topic.name+"")&&Q(t,l),_[0]&512&&Q(r,b[9]),_[0]&32&&o!==(o=b[5]?-1:0)&&f(e,"tabindex",o),_[0]&2&&u!==(u=b[1].topic.url)&&f(e,"href",u),_[1]&1&&f(e,"style",b[31]),_[0]&2048&&f(e,"target",b[11])},d(b){b&&O(e)}}}function On(n){let e;return{c(){e=S("div"),e.textContent=`${U.pinned}`,f(e,"class","pinned-mark")},m(i,l){V(i,e,l)},d(i){i&&O(e)}}}function Nn(n){let e;function i(s,a){return s[1].isDescriptionPlainText?zl:jl}let l=i(n),t=l(n);return{c(){t.c(),e=Ve()},m(s,a){t.m(s,a),V(s,e,a)},p(s,a){l===(l=i(s))&&t?t.p(s,a):(t.d(1),t=l(s),t&&(t.c(),t.m(e.parentNode,e)))},d(s){s&&O(e),t.d(s)}}}function jl(n){let e=n[49]()+"",i;return{c(){i=J(e)},m(l,t){V(l,i,t)},p:Z,d(l){l&&O(i)}}}function zl(n){let e=n[1].description+"",i;return{c(){i=J(e)},m(l,t){V(l,i,t)},p(l,t){t[0]&2&&e!==(e=l[1].description+"")&&Q(i,e)},d(l){l&&O(i)}}}function Vn(n){let e,i,l;return{c(){e=S("div"),i=S("div"),l=J(n[37]),f(e,"class","itsl-plan-card__footer-item itsl-plan-card__footer-item--calendar")},m(t,s){V(t,e,s),p(e,i),p(i,l)},p(t,s){s[1]&64&&Q(l,t[37])},d(t){t&&O(e)}}}function Bn(n){let e,i,l;return{c(){e=S("div"),i=S("div"),l=J(n[27]),f(e,"class","itsl-plan-card__footer-item itsl-plan-card__footer-item--event")},m(t,s){V(t,e,s),p(e,i),p(i,l)},p(t,s){s[0]&134217728&&Q(l,t[27])},d(t){t&&O(e)}}}function Mn(n){let e,i,l;return{c(){e=S("div"),i=S("div"),l=J(n[29]),f(e,"class","itsl-plan-card__footer-item itsl-plan-card__footer-item--link")},m(t,s){V(t,e,s),p(e,i),p(i,l)},p(t,s){s[0]&536870912&&Q(l,t[29])},d(t){t&&O(e)}}}function vn(n){let e,i,l,t;const s=[Yl,ql],a=[];function c(r,o){return r[39]?0:r[25]?1:-1}return~(e=c(n))&&(i=a[e]=s[e](n)),{c(){i&&i.c(),l=Ve()},m(r,o){~e&&a[e].m(r,o),V(r,l,o),t=!0},p(r,o){let u=e;e=c(r),e!==u&&(i&&(ke(),F(a[u],1,1,()=>{a[u]=null}),pe()),~e?(i=a[e],i||(i=a[e]=s[e](r),i.c()),R(i,1),i.m(l.parentNode,l)):i=null)},i(r){t||(R(i),t=!0)},o(r){F(i),t=!1},d(r){r&&O(l),~e&&a[e].d(r)}}}function ql(n){let e,i;return e=new ul({}),{c(){Se(e.$$.fragment)},m(l,t){Pe(e,l,t),i=!0},i(l){i||(R(e.$$.fragment,l),i=!0)},o(l){F(e.$$.fragment,l),i=!1},d(l){we(e,l)}}}function Yl(n){let e,i;return{c(){e=S("div"),i=S("div"),i.textContent=`${U.locked}`,f(i,"class","itsl-plan-card__status"),f(e,"class","itsl-plan-card__footer-item itsl-plan-card__footer-item--locked-status")},m(l,t){V(l,e,t),p(e,i)},i:Z,o:Z,d(l){l&&O(e)}}}function Un(n){let e,i,l,t;const s=[Kl,Jl],a=[];function c(r,o){return r[21]&&r[22]&&r[38]!==void 0?0:1}return e=c(n),i=a[e]=s[e](n),{c(){i.c(),l=Ve()},m(r,o){a[e].m(r,o),V(r,l,o),t=!0},p(r,o){let u=e;e=c(r),e===u?a[e].p(r,o):(ke(),F(a[u],1,1,()=>{a[u]=null}),pe(),i=a[e],i?i.p(r,o):(i=a[e]=s[e](r),i.c()),R(i,1),i.m(l.parentNode,l))},i(r){t||(R(i),t=!0)},o(r){F(i),t=!1},d(r){r&&O(l),a[e].d(r)}}}function Jl(n){let e,i,l;return{c(){e=S("div"),i=S("div"),l=J(n[28]),f(e,"class","itsl-plan-card__footer-item itsl-plan-card__footer-item--file")},m(t,s){V(t,e,s),p(e,i),p(i,l)},p(t,s){s[0]&268435456&&Q(l,t[28])},i:Z,o:Z,d(t){t&&O(e)}}}function Kl(n){let e,i,l;return i=new Nl({props:{value:n[47](),max:n[46](),accessibleText:U.xOfYCompleted}}),{c(){e=S("div"),Se(i.$$.fragment),f(e,"class","itsl-plan-card__footer-item")},m(t,s){V(t,e,s),Pe(i,e,null),l=!0},p:Z,i(t){l||(R(i.$$.fragment,t),l=!0)},o(t){F(i.$$.fragment,t),l=!1},d(t){t&&O(e),we(i)}}}function Wl(n){let e,i,l,t,s,a,c,r,o,u,b,_,h,m,g,A,v,j,H,M,N,D,P,E=n[1].start&&n[1].stop&&wn(n[16],n[7],n[20]),k,K,oe,he,me=n[48]()&&!n[25],B,le,ye,x,te,be,w,T,Te,ce=n[30]&&Tn(n),z=(n[3]||n[4])&&An(n),q=!n[7]&&n[21]&&n[8]&&In(n),$=!n[1].imageUrl&&!n[1].placeholderImageUrl&&Rn(),se=n[1].topic&&Dn(n),_e=!n[20]&&n[18]&&!n[40]&&n[1].pinned&&On(),fe=n[1].description&&Nn(n),ae=E&&Vn(n),ue=n[27]&&Bn(n),de=n[29]&&Mn(n),X=n[22]&&vn(n),y=me&&Un(n);return{c(){e=S("li"),ce&&ce.c(),i=Y(),z&&z.c(),l=Y(),t=S("div"),q&&q.c(),s=Y(),$&&$.c(),r=Y(),o=S("div"),u=S("div"),b=S("div"),_=S("h3"),h=J(n[32]),m=Y(),g=S("div"),A=S("span"),A.textContent=`${U?U.hidden:void 0}`,j=Y(),se&&se.c(),H=Y(),_e&&_e.c(),M=Y(),N=S("p"),fe&&fe.c(),D=Y(),P=S("footer"),ae&&ae.c(),k=Y(),ue&&ue.c(),K=Y(),de&&de.c(),oe=Y(),X&&X.c(),he=Y(),y&&y.c(),B=Y(),le=S("div"),f(t,"class","itsl-plan-card__image"),f(t,"style",a=n[31]+" "+n[35]),f(t,"role","img"),f(t,"aria-label",c=n[1].imageDescription),f(A,"class","screen-reader"),f(g,"class","itsl-plan-card__hidden-indicator"),f(b,"class","itsl-plan-card__title"),f(b,"id",v=n[2]+"--title"),f(u,"class","itsl-plan-card__header"),f(N,"class","itsl-plan-card__body"),f(P,"class","itsl-plan-card__footer"),f(o,"class","itsl-plan-card__info"),f(le,"class","itsl-plan-card__spread"),f(e,"id",ye="itsl-plan-card-"+n[1].id),f(e,"class",x="itsl-plan-card "+n[34]+" "+n[33]),f(e,"role",te=n[15]?"option":void 0),f(e,"aria-selected",be=n[15]?n[13]:void 0),Ae(e,"itsl-plan-card--shadow",n[14]),Ae(e,"itsl-plan-card--drag",n[13])},m(C,I){V(C,e,I),ce&&ce.m(e,null),p(e,i),z&&z.m(e,null),p(e,l),p(e,t),q&&q.m(t,null),p(t,s),$&&$.m(t,null),p(e,r),p(e,o),p(o,u),p(u,b),p(b,_),p(_,h),p(b,m),p(b,g),p(g,A),p(u,j),se&&se.m(u,null),p(u,H),_e&&_e.m(u,null),p(o,M),p(o,N),fe&&fe.m(N,null),p(o,D),p(o,P),ae&&ae.m(P,null),p(P,k),ue&&ue.m(P,null),p(P,K),de&&de.m(P,null),p(P,oe),X&&X.m(P,null),p(P,he),y&&y.m(P,null),p(e,B),p(e,le),n[60](e),w=!0,T||(Te=ne(e,"click",n[50]),T=!0)},p(C,I){C[30]?ce?ce.p(C,I):(ce=Tn(C),ce.c(),ce.m(e,i)):ce&&(ce.d(1),ce=null),C[3]||C[4]?z?(z.p(C,I),I[0]&24&&R(z,1)):(z=An(C),z.c(),R(z,1),z.m(e,l)):z&&(ke(),F(z,1,1,()=>{z=null}),pe()),!C[7]&&C[21]&&C[8]?q?(q.p(C,I),I[0]&2097536&&R(q,1)):(q=In(C),q.c(),R(q,1),q.m(t,s)):q&&(ke(),F(q,1,1,()=>{q=null}),pe()),!C[1].imageUrl&&!C[1].placeholderImageUrl?$||($=Rn(),$.c(),$.m(t,null)):$&&($.d(1),$=null),(!w||I[1]&17&&a!==(a=C[31]+" "+C[35]))&&f(t,"style",a),(!w||I[0]&2&&c!==(c=C[1].imageDescription))&&f(t,"aria-label",c),(!w||I[1]&2)&&Q(h,C[32]),(!w||I[0]&4&&v!==(v=C[2]+"--title"))&&f(b,"id",v),C[1].topic?se?se.p(C,I):(se=Dn(C),se.c(),se.m(u,H)):se&&(se.d(1),se=null),!C[20]&&C[18]&&!C[40]&&C[1].pinned?_e||(_e=On(),_e.c(),_e.m(u,null)):_e&&(_e.d(1),_e=null),C[1].description?fe?fe.p(C,I):(fe=Nn(C),fe.c(),fe.m(N,null)):fe&&(fe.d(1),fe=null),I[0]&1114242&&(E=C[1].start&&C[1].stop&&wn(C[16],C[7],C[20])),E?ae?ae.p(C,I):(ae=Vn(C),ae.c(),ae.m(P,k)):ae&&(ae.d(1),ae=null),C[27]?ue?ue.p(C,I):(ue=Bn(C),ue.c(),ue.m(P,K)):ue&&(ue.d(1),ue=null),C[29]?de?de.p(C,I):(de=Mn(C),de.c(),de.m(P,oe)):de&&(de.d(1),de=null),C[22]?X?(X.p(C,I),I[0]&4194304&&R(X,1)):(X=vn(C),X.c(),R(X,1),X.m(P,he)):X&&(ke(),F(X,1,1,()=>{X=null}),pe()),I[0]&33554432&&(me=C[48]()&&!C[25]),me?y?(y.p(C,I),I[0]&33554432&&R(y,1)):(y=Un(C),y.c(),R(y,1),y.m(P,null)):y&&(ke(),F(y,1,1,()=>{y=null}),pe()),(!w||I[0]&2&&ye!==(ye="itsl-plan-card-"+C[1].id))&&f(e,"id",ye),(!w||I[1]&12&&x!==(x="itsl-plan-card "+C[34]+" "+C[33]))&&f(e,"class",x),(!w||I[0]&32768&&te!==(te=C[15]?"option":void 0))&&f(e,"role",te),(!w||I[0]&40960&&be!==(be=C[15]?C[13]:void 0))&&f(e,"aria-selected",be),(!w||I[0]&16384|I[1]&12)&&Ae(e,"itsl-plan-card--shadow",C[14]),(!w||I[0]&8192|I[1]&12)&&Ae(e,"itsl-plan-card--drag",C[13])},i(C){w||(R(z),R(q),R(X),R(y),w=!0)},o(C){F(z),F(q),F(X),F(y),w=!1},d(C){C&&O(e),ce&&ce.d(),z&&z.d(),q&&q.d(),$&&$.d(),se&&se.d(),_e&&_e.d(),fe&&fe.d(),ae&&ae.d(),ue&&ue.d(),de&&de.d(),X&&X.d(),y&&y.d(),n[60](null),T=!1,Te()}}}function Ql(n,e,i){let l,t,s,a,c,r,o,u,b,_;const h=d=>`background-image: url('${d}'); background-color: transparent;`;let{plan:m=void 0}=e,{id:g=Math.random().toString(36).substr(2,9)}=e,{checked:A=!1}=e,{eventsCount:v=0}=e,{linkedCoursesCount:j=0}=e,{showSelect:H=!1}=e,{showDrag:M=!1}=e,{locale:N=void 0}=e,{disabled:D=!1}=e,{hasAccessToPlan:P=!0}=e,{canEdit:E=!1}=e,{isLearner:k=!1}=e,{topicName:K=""}=e,{showTopicAsLink:oe=!0}=e,{target:he="_self"}=e,{backExtraParams:me={}}=e,{keyboardReorderSelected:B}=e,{dragAndDropSelected:le}=e,{keyboardReorder:ye}=e,{columnVisibilities:x}=e,{useGenericResourceColumn:te}=e,{selectedPlanIds:be={set:()=>{}}}=e,{isCourseOverviewPage:w=!1}=e,{courseId:T=void 0}=e,{filterPersonId:Te=void 0}=e,{isCourseTypeSelfPaced:ce=void 0}=e;const z=m.elements.filter(d=>d.isResource&&!d.isFolder).length,q=m.elements.filter(d=>!d.isResource).length,$=m.elements.filter(d=>d.isResource&&!d.isFolder&&d.isCompleted).length,se=m.elements.filter(d=>!d.isResource&&d.isCompleted).length,_e=L.planType===Fe.onePlanAtATime&&m.planStatus===Ke.locked;let fe,ae,ue=!1,de=!1,X=L.isNewPlannerBetterProgressionBetweenPlansEnabled&&L.planType===Fe.onePlanAtATime;on(async()=>{window.loadIframelyEmbedJs&&window.loadIframelyEmbedJs(),i(25,ue=Ul(m))});const y=Xn();let C,I,Oe,Ye;function ii(d,re){const xe=wi(be);re?xe.add(d):xe.delete(d),be.set(xe)}function li(d){y("dragStart",d)}function ti(d){y("keyboardDragStart",d)}function si(d){xn(d.key)===Ee.TAB&&i(26,de=!0)}function ai(){i(26,de=!1)}function ri(){let d=L.columnVisibilities?L.columnVisibilities[ge.Resources]:void 0,re=L.columnVisibilities?L.columnVisibilities[ge.Activities]:void 0;if(!L.columnVisibilities||d===void 0||L.canEdit===void 0)if(x)if(d=x[ge.Resources],re=x[ge.Activities],k){if(k)return d===G.All||re===G.All}else return!(d===G.Nobody&&re===G.Nobody);else return!0;if(L.canEdit)return!(d===G.Nobody&&re===G.Nobody);if(L.canEdit===!1)return d===G.All||re===G.All}function oi(){let d=L.columnVisibilities?L.columnVisibilities[ge.Elements]:void 0;if(!L.columnVisibilities||d===void 0||L.canEdit===void 0)if(x)if(d=x[ge.Elements],k){if(k)return d===G.All}else return d!==G.Nobody;else return!0;if(L.canEdit)return d!==G.Nobody;if(L.canEdit===!1)return d===G.All}function Ze(){let d=L.columnVisibilities?L.columnVisibilities[ge.Resources]:void 0,re=L.columnVisibilities?L.columnVisibilities[ge.Activities]:void 0;if(!L.columnVisibilities||d===void 0)if(x){if(d=x[ge.Resources],re=x[ge.Activities],k){if(k){if((re===G.Teacher||re===G.Nobody)&&d===G.All)return ee.resources;if((d===G.Nobody||d===G.Teacher)&&re===G.All)return ee.activities}}else{if((d===G.Teacher||d===G.All)&&re===G.Nobody)return ee.resources;if((re===G.Teacher||re===G.All)&&d===G.Nobody)return ee.activities}return ee.everything}else return ee.everything;if(L.canEdit){if((d===G.Teacher||d===G.All)&&re===G.Nobody)return ee.resources;if((re===G.Teacher||re===G.All)&&d===G.Nobody)return ee.activities}else if(!L.canEdit){if((re===G.Teacher||re===G.Nobody)&&d===G.All)return ee.resources;if((d===G.Nobody||d===G.Teacher)&&re===G.All)return ee.activities}return ee.everything}function ci(){const d=Ze();if(Oe)return z+q;if(d===ee.everything)return z+q;if(d===ee.resources)return z;if(d===ee.activities)return q}function fi(){const d=Ze();if(Oe)return $+se;if(d===ee.everything)return $+se;if(d===ee.resources)return $;if(d===ee.activities)return se}function ui(){return ri()&&I&&(L.useGenericResourceColumn===!1||te===!1)||oi()&&I&&Oe}const di=()=>{if(m.description===null||m.description===void 0)return"";const d=document.createElement("div");return d.innerHTML=m.description,d.textContent.trim()};function mi(d){if(!_){d.stopPropagation(),d.preventDefault();return}L.redirectFromCalendar&&ni(L.kpi.kpiMeasurementOpenPlanFromCalendar)}function bi(d){W.call(this,n,d)}function _i(d){A=d,i(0,A)}function hi(d){Ne[d?"unshift":"push"](()=>{ae=d,i(24,ae)})}function gi(d){Ne[d?"unshift":"push"](()=>{fe=d,i(23,fe)})}return n.$$set=d=>{"plan"in d&&i(1,m=d.plan),"id"in d&&i(2,g=d.id),"checked"in d&&i(0,A=d.checked),"eventsCount"in d&&i(51,v=d.eventsCount),"linkedCoursesCount"in d&&i(52,j=d.linkedCoursesCount),"showSelect"in d&&i(3,H=d.showSelect),"showDrag"in d&&i(4,M=d.showDrag),"locale"in d&&i(53,N=d.locale),"disabled"in d&&i(5,D=d.disabled),"hasAccessToPlan"in d&&i(6,P=d.hasAccessToPlan),"canEdit"in d&&i(7,E=d.canEdit),"isLearner"in d&&i(8,k=d.isLearner),"topicName"in d&&i(9,K=d.topicName),"showTopicAsLink"in d&&i(10,oe=d.showTopicAsLink),"target"in d&&i(11,he=d.target),"backExtraParams"in d&&i(12,me=d.backExtraParams),"keyboardReorderSelected"in d&&i(13,B=d.keyboardReorderSelected),"dragAndDropSelected"in d&&i(14,le=d.dragAndDropSelected),"keyboardReorder"in d&&i(15,ye=d.keyboardReorder),"columnVisibilities"in d&&i(16,x=d.columnVisibilities),"useGenericResourceColumn"in d&&i(17,te=d.useGenericResourceColumn),"selectedPlanIds"in d&&i(54,be=d.selectedPlanIds),"isCourseOverviewPage"in d&&i(18,w=d.isCourseOverviewPage),"courseId"in d&&i(19,T=d.courseId),"filterPersonId"in d&&i(55,Te=d.filterPersonId),"isCourseTypeSelfPaced"in d&&i(20,ce=d.isCourseTypeSelfPaced)},n.$$.update=()=>{if(n.$$.dirty[0]&2|n.$$.dirty[1]&4194304&&i(37,l=m.start&&m.stop?vl(m.start,m.stop,N):U.noDate),n.$$.dirty[0]&4098|n.$$.dirty[1]&16777216&&i(36,t=Ge(m.url,me,Te)),n.$$.dirty[0]&2&&i(35,s=m.imageUrl?h(m.imageUrl):m.placeholderImageUrl?h(m.placeholderImageUrl):""),n.$$.dirty[0]&2&&i(34,a=m.isActive?"":"itsl-plan-card--hidden"),n.$$.dirty[0]&384&&i(22,u=!E&&k),n.$$.dirty[0]&4194304&&i(21,b=!u||!_e),n.$$.dirty[0]&2097216&&i(33,c=Qi()||Wi()||!b||!P?"":"itsl-plan-card--hover-support"),n.$$.dirty[0]&2&&i(32,r=m.title||(U?U.noTitle:"")),n.$$.dirty[0]&2&&i(31,o=m.topic?`background-color: ${m.topic.color};`:""),n.$$.dirty[1]&1048576&&(v===1?i(27,C=U?U.oneEvent:void 0):v>1&&U&&U.multipleEvents?i(27,C=U.multipleEvents.replace("{0}",v)):i(27,C=void 0)),n.$$.dirty[0]&131072&&i(56,Oe=L.useGenericResourceColumn===!0||te===!0),n.$$.dirty[1]&33554432){const d=Ze();Oe?z+q>1?i(28,I=Ue(U.multipleResources,z+q)):z+q===1?i(28,I=U?U.oneResource:void 0):i(28,I=void 0):z+q===1&&d===ee.everything||z===1&&d===ee.resources||q===1&&d===ee.activities?i(28,I=U?U.oneResource:void 0):z+q>1&&U&&U.multipleResources?d===ee.everything?i(28,I=Ue(U.multipleResources,z+q)):d===ee.resources?z>1?i(28,I=Ue(U.multipleResources,z)):i(28,I=void 0):d===ee.activities&&(q>1?i(28,I=Ue(U.multipleResources,q)):i(28,I=void 0)):i(28,I=void 0)}n.$$.dirty[1]&2097152&&(j===1?i(29,Ye=U?U.oneLinkedCourse:void 0):j>1&&U&&U.multipleLinkedCourses?i(29,Ye=U.multipleLinkedCourses.replace("{0}",j)):i(29,Ye=void 0)),n.$$.dirty[0]&2097216&&i(30,_=P&&b)},[A,m,g,H,M,D,P,E,k,K,oe,he,me,B,le,ye,x,te,w,T,ce,b,u,fe,ae,ue,de,C,I,Ye,_,o,r,c,a,s,t,l,$,_e,X,ii,li,ti,si,ai,ci,fi,ui,di,mi,v,j,N,be,Te,Oe,bi,_i,hi,gi]}class Xl extends De{constructor(e){super(),Re(this,e,Ql,Wl,Ie,{plan:1,id:2,checked:0,eventsCount:51,linkedCoursesCount:52,showSelect:3,showDrag:4,locale:53,disabled:5,hasAccessToPlan:6,canEdit:7,isLearner:8,topicName:9,showTopicAsLink:10,target:11,backExtraParams:12,keyboardReorderSelected:13,dragAndDropSelected:14,keyboardReorder:15,columnVisibilities:16,useGenericResourceColumn:17,selectedPlanIds:54,isCourseOverviewPage:18,courseId:19,filterPersonId:55,isCourseTypeSelfPaced:20},null,[-1,-1,-1])}}function Fn(n,e,i){const l=n.slice();return l[7]=e[i],l}function Hn(n){let e,i,l=[],t=new Map,s,a=dn(n[0].plans);const c=r=>r[7].id;for(let r=0;r<a.length;r+=1){let o=Fn(n,a,r),u=c(o);t.set(u,l[r]=Gn(u,o))}return{c(){e=S("div"),i=S("ul");for(let r=0;r<l.length;r+=1)l[r].c();f(i,"class","itsl-calendar-plan-cards__plans-list-inner"),f(e,"class","itsl-calendar-plan-cards__plans-list")},m(r,o){V(r,e,o),p(e,i);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(i,null);s=!0},p(r,o){o&3&&(a=dn(r[0].plans),ke(),l=Vi(l,o,c,1,r,a,t,i,Ni,Gn,null,Fn),pe())},i(r){if(!s){for(let o=0;o<a.length;o+=1)R(l[o]);s=!0}},o(r){for(let o=0;o<l.length;o+=1)F(l[o]);s=!1},d(r){r&&O(e);for(let o=0;o<l.length;o+=1)l[o].d()}}}function Gn(n,e){let i,l,t,s;return l=new Xl({props:{plan:e[7],i18n:U,disabled:!1,hasAccessToPlan:e[0].hasAccessToPlans,canEdit:e[0].canEdit,topicName:e[0].topicName,showTopicAsLink:!1,locale:L.locale,backExtraParams:e[1],isLearner:e[0].isLearner,columnVisibilities:e[0].columnVisibilities,useGenericResourceColumn:e[0].useGenericResourceColumn,isCourseTypeSelfPaced:e[0].isCourseTypeSelfPaced}}),{key:n,first:null,c(){i=S("li"),Se(l.$$.fragment),t=Y(),this.first=i},m(a,c){V(a,i,c),Pe(l,i,null),p(i,t),s=!0},p(a,c){e=a;const r={};c&1&&(r.plan=e[7]),c&1&&(r.hasAccessToPlan=e[0].hasAccessToPlans),c&1&&(r.canEdit=e[0].canEdit),c&1&&(r.topicName=e[0].topicName),c&2&&(r.backExtraParams=e[1]),c&1&&(r.isLearner=e[0].isLearner),c&1&&(r.columnVisibilities=e[0].columnVisibilities),c&1&&(r.useGenericResourceColumn=e[0].useGenericResourceColumn),c&1&&(r.isCourseTypeSelfPaced=e[0].isCourseTypeSelfPaced),l.$set(r)},i(a){s||(R(l.$$.fragment,a),s=!0)},o(a){F(l.$$.fragment,a),s=!1},d(a){a&&O(i),we(l)}}}function Zl(n){let e,i,l,t=n[3]&&jn(),s=n[0].plans.length<n[0].total&&zn(n);return{c(){e=S("div"),t&&t.c(),i=Y(),s&&s.c(),f(e,"class","itsl-calendar-plan-cards__show-more")},m(a,c){V(a,e,c),t&&t.m(e,null),p(e,i),s&&s.m(e,null),l=!0},p(a,c){a[3]?t||(t=jn(),t.c(),t.m(e,i)):t&&(t.d(1),t=null),a[0].plans.length<a[0].total?s?(s.p(a,c),c&1&&R(s,1)):(s=zn(a),s.c(),R(s,1),s.m(e,null)):s&&(ke(),F(s,1,1,()=>{s=null}),pe())},i(a){l||(R(s),l=!0)},o(a){F(s),l=!1},d(a){a&&O(e),t&&t.d(),s&&s.d()}}}function xl(n){let e,i;return{c(){e=S("div"),i=S("span"),i.textContent=`${U?U.loading:""}`,f(i,"class","screen-reader"),f(e,"class","itsl-calendar-plan-cards__loading"),f(e,"aria-busy","true")},m(l,t){V(l,e,t),p(e,i)},p:Z,i:Z,o:Z,d(l){l&&O(e)}}}function jn(n){let e;return{c(){e=S("span"),e.textContent=`${U.friendlyUnknownError}`,f(e,"class","itsl-calendar-plan-cards__show-more-error")},m(i,l){V(i,e,l)},d(i){i&&O(e)}}}function zn(n){let e,i;return e=new Ki({props:{type:"plain",htmlType:"button",iconClass:"itsl-calendar-plan-cards__show-more-icon",text:U.showMorePlans}}),e.$on("click",n[4]),{c(){Se(e.$$.fragment)},m(l,t){Pe(e,l,t),i=!0},p:Z,i(l){i||(R(e.$$.fragment,l),i=!0)},o(l){F(e.$$.fragment,l),i=!1},d(l){we(e,l)}}}function $l(n){let e,i,l,t,s,a=n[0].total>0&&Hn(n);const c=[xl,Zl],r=[];function o(u,b){return u[2]?0:1}return i=o(n),l=r[i]=c[i](n),{c(){a&&a.c(),e=Y(),l.c(),t=Ve()},m(u,b){a&&a.m(u,b),V(u,e,b),r[i].m(u,b),V(u,t,b),s=!0},p(u,[b]){u[0].total>0?a?(a.p(u,b),b&1&&R(a,1)):(a=Hn(u),a.c(),R(a,1),a.m(e.parentNode,e)):a&&(ke(),F(a,1,1,()=>{a=null}),pe());let _=i;i=o(u),i===_?r[i].p(u,b):(ke(),F(r[_],1,1,()=>{r[_]=null}),pe(),l=r[i],l?l.p(u,b):(l=r[i]=c[i](u),l.c()),R(l,1),l.m(t.parentNode,t))},i(u){s||(R(a),R(l),s=!0)},o(u){F(a),F(l),s=!1},d(u){u&&(O(e),O(t)),a&&a.d(u),r[i].d(u)}}}function et(n,e,i){let{loadMethod:l=null}=e,{location:t={}}=e,{placeholder:s=null}=e,{planData:a={plans:[],total:0,currentPageIndex:0,loading:!0,hasAccessToPlans:!0,canEdit:!1,topicName:"",isLearner:!1}}=e,c=!0,r=null;l!=null&&l(u=>i(0,a=u)).catch(u=>{i(3,r=u),i(0,a.loading=!1,a),s.remove()});function o(){i(3,r=null),i(2,c=!0),l(u=>i(0,a=u),a.currentPageIndex+1,a.plans).catch(u=>{i(3,r=u),i(0,a.loading=!1,a)})}return n.$$set=u=>{"loadMethod"in u&&i(5,l=u.loadMethod),"location"in u&&i(1,t=u.location),"placeholder"in u&&i(6,s=u.placeholder),"planData"in u&&i(0,a=u.planData)},n.$$.update=()=>{n.$$.dirty&69&&(a.loading?setTimeout(()=>{i(2,c=a.loading),c||s.remove()},100):(i(2,c=!1),s.remove()))},[a,t,c,r,o,l,s]}class nt extends De{constructor(e){super(),Re(this,e,et,$l,Ie,{loadMethod:5,location:1,placeholder:6,planData:0})}}async function it(n,e,i,l,t,s=0,a=[]){const c=await wl(n,e,i,l,s),r=Vl(L.topicColours,L.defaultPlanImages);c.total=c.plans.total,c.currentPageIndex=c.plans.currentPageIndex,c.plans=[...a,...Bl(c.plans,r)],e>0&&(L.childId=e),L.redirectFromCalendar=!0,t(c)}document.addEventListener("DOMContentLoaded",lt);function lt(){document.addEventListener("loadPlanCardsInCalendarEventPopUp",n=>{const e=n.target;if(e){const i=tt(n.detail.planIds.length);e.appendChild(i),new nt({target:e,anchor:i,props:{location:n.detail.location,placeholder:i,loadMethod:(l,t=0,s=[])=>it(n.detail.courseId,n.detail.childId,n.detail.planIds,n.detail.viewForPersonId,l,t,s)}})}})}function tt(n){const t=document.createElement("div"),s=160*Math.min(n,an)+(n>an?30:0)-48;return t.style.height=s+"px",t}
//# sourceMappingURL=index-d3bb6c25.js.map
