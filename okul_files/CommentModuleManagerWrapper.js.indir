function CommentModuleManagerWrapper(e){window[e]=this;var t,n=this;return n.initialize=function(e){t=e},n.showOrHideCommentsClick=function(e,n){var o=n.getCommentModuleObject();return o&&(o.isVisible()?(o.hide(),e.text(o.getCommentsCount()>0?t.strings.showComments:t.strings.addComment)):(1===e.data("commentsLoaded")?o.show():(o.loadAndShow(),e.data("commentsLoaded",1)),e.text(t.strings.hideComments))),!1},n.addComment=function(e,n,o,a,d,s){CCL.CommonFunctions.safeAjaxPost({datatype:"json",url:t.urls.addComment,data:{sourceId:n.sourceId,sourceType:n.sourceType,text:o,lastVisibleCommentId:a}}).done(function(t){d(e,t)}).fail(function(){s(e)})},n.editComment=function(e,n,o,a,d,s){CCL.CommonFunctions.safeAjax({type:"PUT",datatype:"json",url:t.urls.editComment.replace("{commentId}",o),data:{text:a}}).done(function(t){d(e,t)}).fail(function(t){s(e,o,t)})},n.deleteComment=function(e,n,o,a,d){CCL.CommonFunctions.safeAjax({type:"DELETE",datatype:"json",url:t.urls.deleteComment.replace("{commentId}",o)}).done(function(t){a(e,o,t)}).fail(function(t){d(e,o,t)})},n.loadOld=function(e,n,o,a,d,s,m){$.ajax({type:"GET",datatype:"json",url:t.urls.getOld,data:{sourceId:n.sourceId,sourceType:n.sourceType,commentId:o,count:a,numberOfPreviouslyReadItemsToDisplay:d}}).done(function(t){s(e,t)}).fail(function(t){m(e,t)})},n}