<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Atacan Küçüksarı | Architect & 3D Visualizer</title>
    
    <link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png">
    <link rel="shortcut icon" href="favicon/favicon.ico">
    <link rel="manifest" href="favicon/site.webmanifest">

    <meta property="og:type" content="website">
    <meta property="og:title" content="Atacan Küçüksarı | Architect & 3D Visualizer">
    <meta property="og:description" content="M.Arch Candidate at Politecnico Di Milano. Computational Design & 3D Visualization Portfolio.">
    <meta property="og:image" content="favicon/og-image.png">
    <meta name="twitter:card" content="summary_large_image">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pannellum@2.5.6/build/pannellum.css"/>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/pannellum@2.5.6/build/pannellum.js"></script>

    <link rel="stylesheet" href="style.css">

    <!-- Vercel Web Analytics -->
    <script>
      window.va = window.va || function () { (window.vaq = window.vaq || []).push(arguments); };
    </script>
    <script defer src="/_vercel/insights/script.js"></script>
</head>
<body>

    <div class="command-line">
        <span>Command:</span> <div id="typing-text">_System_Ready...</div>
    </div>

    <nav class="rhino-toolbar">
        <a href="#home" class="nav-btn"><i class="fas fa-home"></i> Home</a>
        <a href="#education" class="nav-btn"><i class="fas fa-graduation-cap"></i> Education</a>
        <a href="#experience" class="nav-btn"><i class="fas fa-briefcase"></i> Experience</a>
        <a href="#skills" class="nav-btn"><i class="fas fa-tools"></i> Skills</a>
        <div class="nav-separator"></div>
        <a href="#tremora" class="nav-btn">TREMORA</a> 
        <a href="#travion" class="nav-btn">TRAVION</a>
        <a href="#apollo" class="nav-btn">APOLLO</a> 
        <a href="#hermes" class="nav-btn">HERMES</a>
    </nav>

    <section id="home">
        <div class="viewport-label">PERSPECTIVE</div>
        <div class="hero-content hidden">
            <img src="src/profile.jpg" alt="Atacan Küçüksarı" class="profile-img" onclick="window.location.href='other/game.html'" style="cursor: crosshair;">
            <h1>Atacan Küçüksarı</h1>
            <p style="color: var(--rhino-cyan); margin-bottom: 20px; font-weight: 600; letter-spacing: 1px;">
                Architect / 3D Visualizer
            </p>
            <div style="border-left: 2px solid var(--rhino-accent); padding-left: 15px; margin: 20px 0; text-align: left; font-style: italic; color: #ccc;">
                <p style="margin-bottom: 10px;">
                    "M.Arch Candidate at <span style="color: white; font-weight: bold;">Politecnico Di Milano</span>.
                </p>
                <p>I don't just design houses; I tinker with tools to create 3D realities."</p>
            </div>
            <div class="contact-links">
                <a href="https://www.linkedin.com/in/atacanks/" target="_blank">LINKEDIN</a>
                <a href="mailto:kucuksariatacan@gmail.com">E-MAIL</a>
                <a href="pdf/resume.pdf" target="_blank">RESUME_PDF</a>
                <a href="pdf/portfolio.pdf" target="_blank">PORTFOLIO_PDF</a>
            </div>
        </div>
    </section>

    <section id="education">
        <div class="viewport-label">FRONT_VIEW</div>
        <div class="container hidden">
            <h2>Education</h2>
            <div class="timeline-item">
                <span class="year">2025 - Present</span>
                <h3>Master's Degree | Architectural Engineering</h3>
                <p>Politecnico di Milano</p>
            </div>
            <div class="timeline-item">
                <span class="year">2021 - 2025</span>
                <h3>Bachelor of Architecture | BArch</h3>
                <p>Istanbul Technical University (İTÜ)</p>
                <p style="font-size:0.9rem; opacity:0.7; color: var(--rhino-cyan); margin-top:5px;">GPA: 3.19</p>
            </div>
        </div>
    </section>

    <section id="experience">
        <div class="viewport-label">RIGHT_VIEW</div>
        <div class="container hidden">
            <h2>Professional Experience</h2>
            <div class="timeline-item">
                <span class="year">Jan 2025 - Feb 2025</span>
                <h3>Architectural Intern | Summa Turizm Yatırımcılığı A.Ş.</h3>
                <p>Istanbul, Turkey (On-site)</p>
                <p style="margin-top:10px; border-top: 1px dashed #555; padding-top: 10px;">
                    <em>Tasks:</em> Served as a <strong>Construction Site Examiner</strong>; monitored construction progress, inspected on-site tasks for quality control.
                </p>
            </div>
            <div class="timeline-item">
                <span class="year">Jul 2024 - Aug 2024</span>
                <h3>Architectural Intern | Megaron Proje</h3>
                <p>Istanbul, Turkey (On-site)</p>
                <p style="margin-top:10px; border-top: 1px dashed #555; padding-top: 10px;">
                    <em>Tasks:</em> Managed municipal project approval processes and produced high-quality <strong>3D visualizations</strong>.
                </p>
            </div>
            <div class="timeline-item research-item">
                <span class="year" style="color: var(--rhino-magenta);">2025</span>
                <h3>Academic Researcher | GAIA (ITU)</h3>
                <p>Istanbul Technical University</p> 
                <p style="margin-top:10px; border-top: 1px dashed #555; padding-top: 10px;">
                    <em>Focus:</em> <strong>GAIA (Generative Architecture & Intelligence Agency)</strong> Project.
                </p>
                <p style="margin-top:5px; font-size: 0.9rem;">
                    Contributed to the development of a custom <strong>AI Interface</strong> designed to integrate artificial intelligence into architectural workflows.
                </p>
            </div>
        </div>
    </section>

    <section id="skills">
        <div class="viewport-label">TOP_VIEW</div>
        <div class="container hidden">
            <h2>Technical Skills</h2>
            <div class="skills-grid">
                <div class="skill-row"><span class="skill-name">Adobe Photoshop</span><div class="skill-dots"><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div></div></div>
                <div class="skill-row"><span class="skill-name">Adobe Illustrator</span><div class="skill-dots"><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot"></div><div class="dot"></div></div></div>
                <div class="skill-row"><span class="skill-name">Adobe After Effects</span><div class="skill-dots"><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div></div></div>
                <div class="skill-row"><span class="skill-name">Adobe Premiere Pro</span><div class="skill-dots"><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot"></div><div class="dot"></div></div></div>
				<div class="skill-row"><span class="skill-name">Affinity</span><div class="skill-dots"><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div></div></div>
                <div class="skill-row"><span class="skill-name">Canva</span><div class="skill-dots"><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div></div></div>
				<div class="skill-row"><span class="skill-name">Capcut</span><div class="skill-dots"><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div></div></div>
				<div class="skill-row"><span class="skill-name">ArchiCAD</span><div class="skill-dots"><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot"></div></div></div>
                <div class="skill-row"><span class="skill-name">Autodesk AutoCAD</span><div class="skill-dots"><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot"></div></div></div>
                <div class="skill-row"><span class="skill-name">Rhinoceros</span><div class="skill-dots"><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div></div></div>
                <div class="skill-row"><span class="skill-name">Twinmotion</span><div class="skill-dots"><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div></div></div>
                <div class="skill-row"><span class="skill-name">Blender</span><div class="skill-dots"><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot"></div></div></div>
                <div class="skill-row"><span class="skill-name">SketchUp</span><div class="skill-dots"><div class="dot filled"></div><div class="dot filled"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div></div></div>
                <div class="skill-row"><span class="skill-name">MS Office Suite</span><div class="skill-dots"><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot"></div></div></div>
                <div class="skill-row"><span class="skill-name">Unreal Engine</span><div class="skill-dots"><div class="dot filled"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div></div></div>
                <div class="skill-row"><span class="skill-name">D5 Render</span><div class="skill-dots"><div class="dot filled"></div><div class="dot filled"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div></div></div>
            </div>

            <h2>Languages</h2>
            <div class="skills-grid">
                <div class="skill-row"><span class="skill-name">Turkish</span><span class="skill-value">Native</span></div>
                <div class="skill-row"><span class="skill-name">English</span><span class="skill-value">Fluent (C1)</span></div>
            </div>
        </div>
    </section>

    <section id="tremora">
        <div class="viewport-label">PROJECT_VIEW_TREMORA</div>
        <div class="container hidden">
            <div class="project-header">
                <h2 style="border-color: #ff0055;">Tremora</h2>
                <h3 style="opacity: 0.7;">"A Safe Haven"</h3>
            </div>
            <div class="project-details">
                <div class="detail-list">
                    <p><strong>Location:</strong> Şişli, Istanbul</p>
                    <p><strong>Type:</strong> Emergency Response / Modular</p>
                    <p><strong>Year:</strong> 2024</p>
                    <p><strong>Role:</strong> Concept & System Design</p>
                    <button class="panorama-button" onclick="openPanoramaGallery()">
                        <i class="fas fa-vr-cardboard"></i> View 360° Panoramas
                    </button>
                </div>
                <div class="summary">
                    <p>A safe haven in times of need, a community hub every day. This project aims to deliver a relief home structure to support a modular assembly system. The building's core components are designed for rapid assembly and disassembly.</p>
                    <div class="poster-gallery">
                        <img src="src/ITU-7/ITU-7_Poster1.jpg" loading="lazy" decoding="async" onclick="openLightbox(this)">
                        <img src="src/ITU-7/ITU-7_Poster2.jpg" loading="lazy" decoding="async" onclick="openLightbox(this)">
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="travion">
        <div class="viewport-label">PROJECT_VIEW_TRAVION</div>
        <div class="container hidden">
            <div class="project-header">
                <h2 style="border-color: #00ff00;">Travion</h2>
                <h3 style="opacity: 0.7;">"Trade, Travel & Transform"</h3>
            </div>
            <div class="project-details">
                <div class="detail-list">
                    <p><strong>Location:</strong> Kemeraltı, Konak, Izmir</p>
                    <p><strong>Type:</strong> Public Hub / Historical Bazaar</p>
                    <p><strong>Year:</strong> 2023</p>
                </div>
                <div class="summary">
                    <p>A hub solution for Izmir/Kemeraltı residents that serves as both a resting place and a passageway.</p>
                    <div class="horizontal-gallery">
                        <img src="src/ITU-5/ITU-5_Poster1.jpg" loading="lazy" decoding="async" onclick="openLightbox(this)">
                        <img src="src/ITU-5/ITU-5_Poster2.jpg" loading="lazy" decoding="async" onclick="openLightbox(this)">
                        <img src="src/ITU-5/ITU-5_Poster3.jpg" loading="lazy" decoding="async" onclick="openLightbox(this)">
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="apollo">
        <div class="viewport-label">PROJECT_VIEW_APOLLO</div> 
        <div class="container hidden">
            <div class="project-header">
                <h2 style="border-color: #ff9900;">Apollo</h2>
                <h3 style="opacity: 0.7;">"Create and Exhibit"</h3>
            </div>
            <div class="project-details">
                <div class="detail-list">
                    <p><strong>Location:</strong> Bagdat Street, Istanbul</p>
                    <p><strong>Type:</strong> Cultural Arts Center</p>
                    <p><strong>Year:</strong> 2024</p>
                    <button class="mockup-button" onclick="openMockupGallery()">
                        <i class="fas fa-cube"></i> View Model Photos
                    </button>
                </div>
                <div class="summary">
                    <p>A comprehensive cultural arts center designed for Bagdat Street, serving as a community hub for artistic expression.</p>
                    <div class="poster-gallery">
                        <img src="src/ITU-6/ITU-6_Poster1.jpg" loading="lazy" decoding="async" onclick="openLightbox(this)">
                        <img src="src/ITU-6/ITU-6_Poster2.jpg" loading="lazy" decoding="async" onclick="openLightbox(this)">
                        <img src="src/ITU-6/ITU-6_Poster3.jpg" loading="lazy" decoding="async" onclick="openLightbox(this)">
                        <img src="src/ITU-6/ITU-6_Poster4.jpg" loading="lazy" decoding="async" onclick="openLightbox(this)">
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="hermes">
        <div class="viewport-label">PROJECT_VIEW_HERMES</div>
        <div class="container hidden">
            <div class="project-header">
                <h2 style="border-color: #aa00ff;">Hermes</h2>
                <h3 style="opacity: 0.7;">"Move, Play, Thrive!"</h3>
            </div>
            <div class="project-details">
                <div class="detail-list">
                    <p><strong>Location:</strong> Gebze, Kocaeli</p>
                    <p><strong>Type:</strong> Recreational Hub</p>
                    <p><strong>Year:</strong> 2025</p>
                    <button class="mockup-button" onclick="openHermesMockupGallery()">
                        <i class="fas fa-cube"></i> View Model Photos
                    </button>
                    <div class="sidebar-video-container" style="margin-top: 20px;">
                         <iframe src="https://www.youtube-nocookie.com/embed/SxEzgLZ7ucI?rel=0&modestbranding=1" 
                                title="Hermes Project Video" 
                                frameborder="0" 
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                                allowfullscreen>
                        </iframe>
                    </div>
                </div>
                <div class="summary">
                    <p>Located within the confines of a former quarry, Hermes reinterprets an artificial landscape through deliberate architectural intervention.</p>
                    <div class="hermes-gallery">
                        <img src="src/ITU-8/ITU-8_Poster-1.jpg" loading="lazy" decoding="async" onclick="openLightbox(this)">
                        <img src="src/ITU-8/ITU-8_Poster-2.jpg" loading="lazy" decoding="async" onclick="openLightbox(this)">
                        <img src="src/ITU-8/ITU-8_Poster-3.jpg" loading="lazy" decoding="async" onclick="openLightbox(this)">
                        <img src="src/ITU-8/ITU-8_Poster-4.jpg" loading="lazy" decoding="async" onclick="openLightbox(this)">
                        <img src="src/ITU-8/ITU-8_Poster-5.jpg" loading="lazy" decoding="async" onclick="openLightbox(this)">
                        <img src="src/ITU-8/ITU-8_Poster-6.jpg" loading="lazy" decoding="async" onclick="openLightbox(this)">
                        <img src="src/ITU-8/ITU-8_Poster-7.jpg" loading="lazy" decoding="async" onclick="openLightbox(this)">
                        <img src="src/ITU-8/ITU-8_Poster-8.jpg" loading="lazy" decoding="async" onclick="openLightbox(this)">
                        <img src="src/ITU-8/ITU-8_Poster-9.jpg" loading="lazy" decoding="async" onclick="openLightbox(this)">
                        <img src="src/ITU-8/ITU-8_Poster-10.jpg" loading="lazy" decoding="async" onclick="openLightbox(this)">
                        <img src="src/ITU-8/ITU-8_Poster-11.jpg" loading="lazy" decoding="async" onclick="openLightbox(this)">
                        <img src="src/ITU-8/ITU-8_Poster-12.jpg" loading="lazy" decoding="async" onclick="openLightbox(this)">
                        <img src="src/ITU-8/ITU-8_Poster-13.jpg" loading="lazy" decoding="async" onclick="openLightbox(this)">
                        <img src="src/ITU-8/ITU-8_Poster-14.jpg" loading="lazy" decoding="async" onclick="openLightbox(this)">
                        <img src="src/ITU-8/ITU-8_Poster-15.jpg" loading="lazy" decoding="async" onclick="openLightbox(this)">
                        <img src="src/ITU-8/ITU-8_Poster-16.jpg" loading="lazy" decoding="async" onclick="openLightbox(this)">
                        <img src="src/ITU-8/ITU-8_Poster-17.jpg" loading="lazy" decoding="async" onclick="openLightbox(this)">
                        <img src="src/ITU-8/ITU-8_Poster-18.jpg" loading="lazy" decoding="async" onclick="openLightbox(this)">
                        <img src="src/ITU-8/ITU-8_Poster-19.jpg" loading="lazy" decoding="async" onclick="openLightbox(this)">
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div id="lightbox" onclick="closeLightbox(event)">
        <span id="close-btn" onclick="closeLightbox(event, true)">&times;</span>
        <div id="lightbox-nav-left" class="nav-arrow" onclick="navigateGallery(-1)"><i class="fas fa-chevron-left"></i></div>
        <div id="lightbox-nav-right" class="nav-arrow" onclick="navigateGallery(1)"><i class="fas fa-chevron-right"></i></div>
        <div id="lightbox-content">
            <img id="lightbox-img" src="" alt="Full View">
        </div>
    </div>

    <div id="mockup-lightbox" onclick="closeMockupOnBackground(event)">
        <span id="mockup-close-btn" onclick="closeMockupGallery()">&times;</span>
        <div class="mockup-gallery-grid">
            <img src="src/ITU-6/mockup/1.jpg" loading="lazy" decoding="async" onclick="viewMockupSingle(this)">
            <img src="src/ITU-6/mockup/2.jpg" loading="lazy" decoding="async" onclick="viewMockupSingle(this)">
            <img src="src/ITU-6/mockup/3.jpg" loading="lazy" decoding="async" onclick="viewMockupSingle(this)">
            <img src="src/ITU-6/mockup/4.jpg" loading="lazy" decoding="async" onclick="viewMockupSingle(this)">
            <img src="src/ITU-6/mockup/5.jpg" loading="lazy" decoding="async" onclick="viewMockupSingle(this)">
            <img src="src/ITU-6/mockup/6.jpg" loading="lazy" decoding="async" onclick="viewMockupSingle(this)">
            <img src="src/ITU-6/mockup/7.jpg" loading="lazy" decoding="async" onclick="viewMockupSingle(this)">
            <img src="src/ITU-6/mockup/8.jpg" loading="lazy" decoding="async" onclick="viewMockupSingle(this)">
            <img src="src/ITU-6/mockup/9.jpg" loading="lazy" decoding="async" onclick="viewMockupSingle(this)">
            <img src="src/ITU-6/mockup/10.jpg" loading="lazy" decoding="async" onclick="viewMockupSingle(this)">
            <img src="src/ITU-6/mockup/11.jpg" loading="lazy" decoding="async" onclick="viewMockupSingle(this)">
        </div>
    </div>

    <div id="hermes-mockup-lightbox" onclick="closeHermesMockupOnBackground(event)">
        <span id="hermes-mockup-close-btn" onclick="closeHermesMockupGallery()">&times;</span>
        <div class="mockup-gallery-grid">
            <img src="src/ITU-8/mockup/1.jpg" loading="lazy" decoding="async" onclick="openLightbox(this)">
            <img src="src/ITU-8/mockup/2.jpg" loading="lazy" decoding="async" onclick="openLightbox(this)">
        </div>
    </div>

    <div id="panorama-gallery-modal" onclick="closePanoramaGalleryOnBackground(event)">
        <span id="panorama-close-btn" onclick="closePanoramaGallery()">&times;</span>
        <div style="text-align: center; max-width: 1000px; width: 90%; height: 90%; overflow-y: auto;">
            <h3 style="color: var(--rhino-magenta); margin-bottom: 20px; text-transform: uppercase; background: #000; display: inline-block; padding: 5px 15px; border: 1px solid var(--rhino-magenta);">
                Tremora 360° Panoramas
            </h3>
            <div class="mockup-gallery-grid" style="border-color: var(--rhino-magenta);">
                <div class="panorama-item" onclick="openPanoramaViewer('src/ITU-7/panoramas/p1.jpg')"><i class="fas fa-vr-cardboard fa-3x" style="color:#888;"></i><p>Corner of Commercial</p></div>
                <div class="panorama-item" onclick="openPanoramaViewer('src/ITU-7/panoramas/p2.jpg')"><i class="fas fa-vr-cardboard fa-3x" style="color:#888;"></i><p>Main Entrance</p></div>
                <div class="panorama-item" onclick="openPanoramaViewer('src/ITU-7/panoramas/p3.jpg')"><i class="fas fa-vr-cardboard fa-3x" style="color:#888;"></i><p>Kindergarten & Garden</p></div>
                <div class="panorama-item" onclick="openPanoramaViewer('src/ITU-7/panoramas/p4.jpg')"><i class="fas fa-vr-cardboard fa-3x" style="color:#888;"></i><p>Upper Parking</p></div>
                <div class="panorama-item" onclick="openPanoramaViewer('src/ITU-7/panoramas/p5.jpg')"><i class="fas fa-vr-cardboard fa-3x" style="color:#888;"></i><p>Parking Facade</p></div>
                <div class="panorama-item" onclick="openPanoramaViewer('src/ITU-7/panoramas/p6.jpg')"><i class="fas fa-vr-cardboard fa-3x" style="color:#888;"></i><p>Side Facade</p></div>
                <div class="panorama-item" onclick="openPanoramaViewer('src/ITU-7/panoramas/p7.jpg')"><i class="fas fa-vr-cardboard fa-3x" style="color:#888;"></i><p>Soup Kitchen</p></div>
                <div class="panorama-item" onclick="openPanoramaViewer('src/ITU-7/panoramas/p8.jpg')"><i class="fas fa-vr-cardboard fa-3x" style="color:#888;"></i><p>Commercial Facade</p></div>
                <div class="panorama-item" onclick="openPanoramaViewer('src/ITU-7/panoramas/p9.jpg')"><i class="fas fa-vr-cardboard fa-3x" style="color:#888;"></i><p>Commercial Facade 2</p></div>
                <div class="panorama-item" onclick="openPanoramaViewer('src/ITU-7/panoramas/p10.jpg')"><i class="fas fa-vr-cardboard fa-3x" style="color:#888;"></i><p>Commercial Facade 3</p></div>
                <div class="panorama-item" onclick="openPanoramaViewer('src/ITU-7/panoramas/p11.jpg')"><i class="fas fa-vr-cardboard fa-3x" style="color:#888;"></i><p>Thrift Shop</p></div>
                <div class="panorama-item" onclick="openPanoramaViewer('src/ITU-7/panoramas/p12.jpg')"><i class="fas fa-vr-cardboard fa-3x" style="color:#888;"></i><p>Closer Entrance</p></div>
            </div>
        </div>
    </div>

    <div id="panorama-viewer-modal">
        <span id="panorama-viewer-close-btn" onclick="closePanoramaViewer()"><i class="fas fa-times"></i></span>
        <div id="panorama-360-view"></div>
    </div>

    <script>
        // --- GENERAL ---
        const observer = new IntersectionObserver((entries) => {
            entries.forEach((entry) => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('show');
                    updateCommandLine(entry.target.closest('section').id);
                }
            });
        }, { threshold: 0.1 });
        document.querySelectorAll('.hidden').forEach((el) => observer.observe(el));

        function updateCommandLine(sectionId) {
            let formattedText = sectionId.charAt(0).toUpperCase() + sectionId.slice(1);
            document.getElementById('typing-text').innerHTML = `_SetView_${formattedText} <span style="animation: blink 1s infinite">|</span>`;
        }

        // --- LIGHTBOX (MOUSE-CENTRIC ZOOM) ---
        let currentImages = [];
        let currentIndex = 0;
        let isZoomed = false;
        let scale = 1;
        let isDragging = false;
        let isDragAction = false; 
        let startX, startY, translateX = 0, translateY = 0;

        const lightbox = document.getElementById('lightbox');
        const img = document.getElementById('lightbox-img');

        function openLightbox(clickedImg) {
            const gallery = clickedImg.closest('.gallery, .horizontal-gallery, .poster-gallery, .hermes-gallery, .mockup-gallery-grid');
            if (gallery) {
                currentImages = Array.from(gallery.querySelectorAll('img'));
                currentIndex = currentImages.indexOf(clickedImg);
            } else {
                currentImages = [clickedImg];
                currentIndex = 0;
            }
            updateLightboxImage();
            
            lightbox.style.display = 'flex';
            document.body.style.overflow = 'hidden'; // Disable scroll
            resetZoom();
        }

        function updateLightboxImage() {
            const targetSrc = currentImages[currentIndex].getAttribute('data-full') || currentImages[currentIndex].src;
            img.src = targetSrc;
        }

        function navigateGallery(direction) {
            currentIndex += direction;
            if (currentIndex < 0) currentIndex = currentImages.length - 1;
            if (currentIndex >= currentImages.length) currentIndex = 0;
            img.style.opacity = 0.5;
            setTimeout(() => { updateLightboxImage(); img.style.opacity = 1; resetZoom(); }, 150);
        }
        
        document.addEventListener('keydown', function(e) {
            if (lightbox.style.display === 'flex') {
                if (e.key === 'ArrowLeft') navigateGallery(-1);
                if (e.key === 'ArrowRight') navigateGallery(1);
                if (e.key === 'Escape') closeLightbox(null, true);
            }
        });

        function closeLightbox(e, force = false) {
            if (force || e.target.id === 'lightbox' || e.target.id === 'lightbox-content') {
                lightbox.style.display = 'none';
                document.body.style.overflow = ''; // Re-enable scroll
                resetZoom();
            }
        }

        // --- MOUSE-AWARE ZOOM LOGIC ---

        img.addEventListener('wheel', function(e) {
            e.preventDefault(); // Prevent page scroll

            // 1. Calculate Scale Change
            const delta = e.deltaY * -0.005;
            let newScale = scale + delta;
            newScale = Math.min(Math.max(1, newScale), 5); // Clamp scale (1x to 5x)

            if (newScale === scale) return;

            // 2. Calculate Position Adjustment (Zoom to Mouse)
            const rect = img.getBoundingClientRect();
            
            // We use the window center because the image is centered in the flex container
            const viewCenterX = window.innerWidth / 2;
            const viewCenterY = window.innerHeight / 2;

            // Mouse position relative to the viewport
            const mouseX = e.clientX;
            const mouseY = e.clientY;

            // Math to keep the point under the mouse stationary:
            // Calculate the mouse's offset from the *current* image center
            const mouseOffsetFromCenterX = mouseX - viewCenterX - translateX;
            const mouseOffsetFromCenterY = mouseY - viewCenterY - translateY;

            // Calculate the ratio of growth
            const ratio = newScale / scale;

            // Shift translateX/Y in the opposite direction of the growth
            translateX -= mouseOffsetFromCenterX * (ratio - 1);
            translateY -= mouseOffsetFromCenterY * (ratio - 1);

            // 3. Apply
            scale = newScale;
            
            if (scale > 1) {
                isZoomed = true;
                img.style.cursor = 'grab';
            } else {
                // If we zoom back out to 100%, reset everything to perfect center
                resetZoom();
                return;
            }

            updateTransform();
        }, { passive: false });

        img.addEventListener('click', function(e) {
            e.stopPropagation(); 
            if (isDragAction) { isDragAction = false; return; }
            
            // Click toggles zoom (Standard Center Zoom for click, Mouse zoom for wheel)
            if (scale > 1) {
                resetZoom();
            } else {
                toggleZoomCenter(); 
            }
        });

        function toggleZoomCenter() {
            isZoomed = true;
            scale = 2.0; 
            img.style.cursor = 'grab';
            updateTransform();
        }

        function resetZoom() {
            isZoomed = false;
            scale = 1;
            translateX = 0; 
            translateY = 0;
            img.style.cursor = 'zoom-in';
            img.style.transform = `translate(0px, 0px) scale(1)`;
        }

        function updateTransform() {
            img.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;
        }

        // DRAG LOGIC
        img.addEventListener('mousedown', (e) => {
            if (scale <= 1) return;
            isDragging = true;
            isDragAction = false;
            startX = e.clientX - translateX;
            startY = e.clientY - translateY;
            img.style.cursor = 'grabbing';
            e.preventDefault();
        });

        window.addEventListener('mouseup', () => {
            if (isDragging) {
                isDragging = false;
                img.style.cursor = 'grab';
            }
        });

        window.addEventListener('mousemove', (e) => {
            if (!isDragging || scale <= 1) return;
            e.preventDefault();
            isDragAction = true;
            translateX = e.clientX - startX;
            translateY = e.clientY - startY;
            updateTransform(); 
        });


        // --- MOCKUP GALLERIES ---
        function openMockupGallery() { 
            document.getElementById('mockup-lightbox').style.display = 'flex'; 
            document.body.style.overflow = 'hidden'; 
        }
        function closeMockupGallery() { 
            document.getElementById('mockup-lightbox').style.display = 'none'; 
            document.body.style.overflow = ''; 
        }
        function closeMockupOnBackground(e) { if (e.target.id === 'mockup-lightbox') closeMockupGallery(); }

        function openHermesMockupGallery() { 
            document.getElementById('hermes-mockup-lightbox').style.display = 'flex'; 
            document.body.style.overflow = 'hidden';
        }
        function closeHermesMockupGallery() { 
            document.getElementById('hermes-mockup-lightbox').style.display = 'none'; 
            document.body.style.overflow = '';
        }
        function closeHermesMockupOnBackground(e) { if (e.target.id === 'hermes-mockup-lightbox') closeHermesMockupGallery(); }
        
        function viewMockupSingle(el) { openLightbox(el); }

        // --- PANORAMA ---
        let viewer;
        function openPanoramaGallery() { 
            document.getElementById('panorama-gallery-modal').style.display = 'flex'; 
            document.body.style.overflow = 'hidden';
        }
        function closePanoramaGallery() { 
            document.getElementById('panorama-gallery-modal').style.display = 'none'; 
            document.body.style.overflow = '';
        }
        function closePanoramaGalleryOnBackground(e) { if (e.target.id === 'panorama-gallery-modal') closePanoramaGallery(); }

        function openPanoramaViewer(imagePath) {
            document.getElementById('panorama-gallery-modal').style.display = 'none';
            document.getElementById('panorama-viewer-modal').style.display = 'block';
            if (viewer) viewer.destroy();
            viewer = pannellum.viewer('panorama-360-view', { "type": "equirectangular", "panorama": imagePath, "autoLoad": true, "compass": false, "showControls": true });
        }

        function closePanoramaViewer() {
            document.getElementById('panorama-viewer-modal').style.display = 'none';
            document.getElementById('panorama-gallery-modal').style.display = 'flex';
            if (viewer) { viewer.destroy(); viewer = null; }
        }
    </script>
</body>
</html>